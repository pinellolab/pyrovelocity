schema: '2.0'
stages:
  data_download@simulate_medium:
    cmd: python data_download.py process_data=[simulate_medium]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.simulate_medium:
          source: simulate
          data_file: simulated_medium.h5ad
          dl_root: data/external
          dl_path: data/external/simulated_medium.h5ad
          rel_path: data/external/simulated_medium.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/simulated_medium.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/simulated_medium_processed.h5ad
            thresh_histogram_path: data/processed/simulated_medium_thresh_histogram.pdf
    outs:
    - path: data/external/simulated_medium.h5ad
      md5: c8483b84bd68f57acb407f715f807f9e
      size: 60248568
  data_download@pons:
    cmd: python data_download.py process_data=[pons]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.pons:
          source: velocyto
          data_file: oligo_lite.h5ad
          dl_root: data/external
          dl_path: data/external/oligo_lite.h5ad
          rel_path: data/external/oligo_lite.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/oligo_lite.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/pons_processed.h5ad
            thresh_histogram_path: data/processed/pons_thresh_histogram.pdf
    outs:
    - path: data/external/oligo_lite.h5ad
      md5: 82f5e9f9736e556662f56653d2f927ab
      size: 82166707
  data_download@pancreas:
    cmd: python data_download.py process_data=[pancreas]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.pancreas:
          source: scvelo
          data_file: endocrinogenesis_day15.h5ad
          dl_root: data/Pancreas
          dl_path: data/Pancreas/endocrinogenesis_day15.h5ad
          rel_path: data/external/endocrinogenesis_day15.h5ad
          url: https://github.com/theislab/scvelo_notebooks/raw/master/data/Pancreas/endocrinogenesis_day15.h5ad
          derived:
            process_method: load_data
            process_args:
              process_cytotrace: true
              count_thres: 0
            rel_path: data/processed/pancreas_processed.h5ad
            thresh_histogram_path: data/processed/pancreas_thresh_histogram.pdf
    outs:
    - path: data/external/endocrinogenesis_day15.h5ad
      md5: 783ec70c72fd895eeea28c07735efc27
      size: 52477898
  data_download@pbmc68k:
    cmd: python data_download.py process_data=[pbmc68k]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.pbmc68k:
          source: scvelo
          data_file: pbmc68k.h5ad
          dl_root: data/PBMC
          dl_path: data/PBMC/pbmc68k.h5ad
          rel_path: data/external/pbmc68k.h5ad
          url: https://ndownloader.figshare.com/files/27686886
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/pbmc68k_processed.h5ad
            thresh_histogram_path: data/processed/pbmc68k_thresh_histogram.pdf
    outs:
    - path: data/external/pbmc68k.h5ad
      md5: ee0953e5fb994bc3cec05d4cf638ac79
      size: 123707283
  data_download@larry:
    cmd: python data_download.py process_data=[larry]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.larry:
          source: pyrovelocity
          data_file: larry.h5ad
          dl_root: data/external
          dl_path: data/external/larry.h5ad
          rel_path: data/external/larry.h5ad
          url: https://ndownloader.figshare.com/files/37028569
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_processed.h5ad
            thresh_histogram_path: data/processed/larry_thresh_histogram.pdf
    outs:
    - path: data/external/larry.h5ad
      md5: d618305c0ee0e41570b1147e63df332a
      size: 1525338690
  data_download@larry_tips:
    cmd: python data_download.py process_data=[larry_tips]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.larry_tips:
          source: pyrovelocity
          data_file: larry_tips.h5ad
          dl_root: data/external
          dl_path: data/external/larry_tips.h5ad
          rel_path: data/external/larry_tips.h5ad
          url: https://ndownloader.figshare.com/files/37028569
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_tips_processed.h5ad
            thresh_histogram_path: data/processed/larry_tips_thresh_histogram.pdf
    outs:
    - path: data/external/larry_tips.h5ad
      md5: d618305c0ee0e41570b1147e63df332a
      size: 1525338690
  data_download@larry_mono:
    cmd: python data_download.py process_data=[larry_mono]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.larry_mono:
          source: pyrovelocity
          data_file: larry_mono.h5ad
          dl_root: data/external
          dl_path: data/external/larry_mono.h5ad
          rel_path: data/external/larry_mono.h5ad
          url: https://ndownloader.figshare.com/files/37028569
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_mono_processed.h5ad
            thresh_histogram_path: data/processed/larry_mono_thresh_histogram.pdf
    outs:
    - path: data/external/larry_mono.h5ad
      md5: 01f4e084c37482e26800ba4dfa0202bd
      size: 66173538
  data_download@larry_neu:
    cmd: python data_download.py process_data=[larry_neu]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.larry_neu:
          source: pyrovelocity
          data_file: larry_neu.h5ad
          dl_root: data/external
          dl_path: data/external/larry_neu.h5ad
          rel_path: data/external/larry_neu.h5ad
          url: https://ndownloader.figshare.com/files/37028575
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_neu_processed.h5ad
            thresh_histogram_path: data/processed/larry_neu_thresh_histogram.pdf
    outs:
    - path: data/external/larry_neu.h5ad
      md5: 3192e2fe89d64f5d0d158c0e7d26c79d
      size: 60008807
  data_download@larry_multilineage:
    cmd: python data_download.py process_data=[larry_multilineage]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.larry_multilineage:
          source: pyrovelocity
          data_file: larry_multilineage.h5ad
          dl_root: data/external
          dl_path: data/external/larry_multilineage.h5ad
          rel_path: data/external/larry_multilineage.h5ad
          url: https://ndownloader.figshare.com/files/37028569
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_multilineage_processed.h5ad
            thresh_histogram_path: data/processed/larry_multilineage_thresh_histogram.pdf
    outs:
    - path: data/external/larry_multilineage.h5ad
      md5: 9df0c8d32ad48f584327008e84e19133
      size: 112022632
  data_download@pbmc10k:
    cmd: python data_download.py process_data=[pbmc10k]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.pbmc10k:
          source: pyrovelocity
          data_file: pbmc10k.h5ad
          dl_root: data/external
          dl_path: data/external/pbmc10k.h5ad
          rel_path: data/external/pbmc10k.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/pbmc10k.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/pbmc10k_processed.h5ad
            thresh_histogram_path: data/processed/pbmc10k_thresh_histogram.pdf
    outs:
    - path: data/external/pbmc10k.h5ad
      md5: d3e04305389fbe783950acfd9c3a7384
      size: 808692621
  preprocess@simulate_medium:
    cmd: python preprocess.py process_data=[simulate_medium]
    deps:
    - path: data/external/simulated_medium.h5ad
      md5: c8483b84bd68f57acb407f715f807f9e
      size: 60248568
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.simulate_medium:
          source: simulate
          data_file: simulated_medium.h5ad
          dl_root: data/external
          dl_path: data/external/simulated_medium.h5ad
          rel_path: data/external/simulated_medium.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/simulated_medium.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/simulated_medium_processed.h5ad
            thresh_histogram_path: data/processed/simulated_medium_thresh_histogram.pdf
    outs:
    - path: data/processed/simulated_medium_processed.h5ad
      md5: 6ade4ac2370f9ae5e0fcffcdd98c6802
      size: 249243888
    - path: data/processed/simulated_medium_thresh_histogram.pdf
      md5: 2e834873a4d429e1afaee1432adf2aee
      size: 17676
    - path: data/processed/simulated_medium_thresh_histogram.pdf.png
      md5: e6b6b2080ea4e1df45abbcd1ba39fc49
      size: 75974
  preprocess@pons:
    cmd: python preprocess.py process_data=[pons]
    deps:
    - path: data/external/oligo_lite.h5ad
      md5: 82f5e9f9736e556662f56653d2f927ab
      size: 82166707
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.pons:
          source: velocyto
          data_file: oligo_lite.h5ad
          dl_root: data/external
          dl_path: data/external/oligo_lite.h5ad
          rel_path: data/external/oligo_lite.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/oligo_lite.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/pons_processed.h5ad
            thresh_histogram_path: data/processed/pons_thresh_histogram.pdf
    outs:
    - path: data/processed/pons_processed.h5ad
      md5: 7be4dd4a9a7a9a10eab45e5f22086489
      size: 740872463
    - path: data/processed/pons_thresh_histogram.pdf
      md5: a4aeb041a89c0d2377cb8d690d72e799
      size: 22547
    - path: data/processed/pons_thresh_histogram.pdf.png
      md5: 4dadbe818e8ef89d3d531a0fd32fa094
      size: 108523
  preprocess@pancreas:
    cmd: python preprocess.py process_data=[pancreas]
    deps:
    - path: data/external/endocrinogenesis_day15.h5ad
      md5: 783ec70c72fd895eeea28c07735efc27
      size: 52477898
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.pancreas:
          source: scvelo
          data_file: endocrinogenesis_day15.h5ad
          dl_root: data/Pancreas
          dl_path: data/Pancreas/endocrinogenesis_day15.h5ad
          rel_path: data/external/endocrinogenesis_day15.h5ad
          url: https://github.com/theislab/scvelo_notebooks/raw/master/data/Pancreas/endocrinogenesis_day15.h5ad
          derived:
            process_method: load_data
            process_args:
              process_cytotrace: true
              count_thres: 0
            rel_path: data/processed/pancreas_processed.h5ad
            thresh_histogram_path: data/processed/pancreas_thresh_histogram.pdf
    outs:
    - path: data/processed/pancreas_processed.h5ad
      md5: 4aaf4084689b5e10c60231552502bd98
      size: 424784368
    - path: data/processed/pancreas_thresh_histogram.pdf
      md5: 0f61a3c55abe7ded02725ecf20bb009d
      size: 24043
    - path: data/processed/pancreas_thresh_histogram.pdf.png
      md5: 1ded710dac0cf7b70e3f4450126100a4
      size: 108513
  preprocess@pbmc68k:
    cmd: python preprocess.py process_data=[pbmc68k]
    deps:
    - path: data/external/pbmc68k.h5ad
      md5: ee0953e5fb994bc3cec05d4cf638ac79
      size: 123707283
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.pbmc68k:
          source: scvelo
          data_file: pbmc68k.h5ad
          dl_root: data/PBMC
          dl_path: data/PBMC/pbmc68k.h5ad
          rel_path: data/external/pbmc68k.h5ad
          url: https://ndownloader.figshare.com/files/27686886
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/pbmc68k_processed.h5ad
            thresh_histogram_path: data/processed/pbmc68k_thresh_histogram.pdf
    outs:
    - path: data/processed/pbmc68k_processed.h5ad
      md5: 56203ce58f1c85b251ce9af2ab721b95
      size: 1677133574
    - path: data/processed/pbmc68k_thresh_histogram.pdf
      md5: 300ecaf5cfa394ed4d06c7da13c90df9
      size: 14588
    - path: data/processed/pbmc68k_thresh_histogram.pdf.png
      md5: 7b84bc7b60c0b195071746f3c6c4893b
      size: 67091
  preprocess@larry:
    cmd: python preprocess.py process_data=[larry]
    deps:
    - path: data/external/larry.h5ad
      md5: d618305c0ee0e41570b1147e63df332a
      size: 1525338690
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.larry:
          source: pyrovelocity
          data_file: larry.h5ad
          dl_root: data/external
          dl_path: data/external/larry.h5ad
          rel_path: data/external/larry.h5ad
          url: https://ndownloader.figshare.com/files/37028569
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_processed.h5ad
            thresh_histogram_path: data/processed/larry_thresh_histogram.pdf
    outs:
    - path: data/processed/larry_processed.h5ad
      md5: a9bd6a0af7159813195c7ef0b36b9c3a
      size: 5361840878
    - path: data/processed/larry_thresh_histogram.pdf
      md5: 22363311e55790f7587a6d4b5b867cfb
      size: 24092
    - path: data/processed/larry_thresh_histogram.pdf.png
      md5: 62311740d1bdc68e9adf41d85129f3ce
      size: 105760
  preprocess@larry_tips:
    cmd: python preprocess.py process_data=[larry_tips]
    deps:
    - path: data/external/larry_tips.h5ad
      md5: d618305c0ee0e41570b1147e63df332a
      size: 1525338690
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.larry_tips:
          source: pyrovelocity
          data_file: larry_tips.h5ad
          dl_root: data/external
          dl_path: data/external/larry_tips.h5ad
          rel_path: data/external/larry_tips.h5ad
          url: https://ndownloader.figshare.com/files/37028569
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_tips_processed.h5ad
            thresh_histogram_path: data/processed/larry_tips_thresh_histogram.pdf
    outs:
    - path: data/processed/larry_tips_processed.h5ad
      md5: f19069e9a1a38fca101b73ac91977149
      size: 2026603098
    - path: data/processed/larry_tips_thresh_histogram.pdf
      md5: fb6f8b84014dd641a08279df77931508
      size: 23664
    - path: data/processed/larry_tips_thresh_histogram.pdf.png
      md5: b14518f66a297ddcb1e2e516acb59ce8
      size: 104587
  preprocess@larry_mono:
    cmd: python preprocess.py process_data=[larry_mono]
    deps:
    - path: data/external/larry_mono.h5ad
      md5: 01f4e084c37482e26800ba4dfa0202bd
      size: 66173538
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.larry_mono:
          source: pyrovelocity
          data_file: larry_mono.h5ad
          dl_root: data/external
          dl_path: data/external/larry_mono.h5ad
          rel_path: data/external/larry_mono.h5ad
          url: https://ndownloader.figshare.com/files/37028569
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_mono_processed.h5ad
            thresh_histogram_path: data/processed/larry_mono_thresh_histogram.pdf
    outs:
    - path: data/processed/larry_mono_processed.h5ad
      md5: 18417e95318ab4f868ed078908b986fe
      size: 112022632
    - path: data/processed/larry_mono_thresh_histogram.pdf
      md5: b5323062fb2716ad969b8ea3d0dec9a1
      size: 19065
    - path: data/processed/larry_mono_thresh_histogram.pdf.png
      md5: e7654de084320a6a53bf34c2ad5737c3
      size: 81845
  preprocess@larry_neu:
    cmd: python preprocess.py process_data=[larry_neu]
    deps:
    - path: data/external/larry_neu.h5ad
      md5: 3192e2fe89d64f5d0d158c0e7d26c79d
      size: 60008807
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.larry_neu:
          source: pyrovelocity
          data_file: larry_neu.h5ad
          dl_root: data/external
          dl_path: data/external/larry_neu.h5ad
          rel_path: data/external/larry_neu.h5ad
          url: https://ndownloader.figshare.com/files/37028575
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_neu_processed.h5ad
            thresh_histogram_path: data/processed/larry_neu_thresh_histogram.pdf
    outs:
    - path: data/processed/larry_neu_processed.h5ad
      md5: 7d1455a6712fb81fead61af3b7aa838a
      size: 92577976
    - path: data/processed/larry_neu_thresh_histogram.pdf
      md5: 8cc79676a6d540254d36b1ccdab16af5
      size: 19229
    - path: data/processed/larry_neu_thresh_histogram.pdf.png
      md5: 92ebf80609a9f53a25a17e08c6b320a0
      size: 82141
  preprocess@larry_multilineage:
    cmd: python preprocess.py process_data=[larry_multilineage]
    deps:
    - path: data/external/larry_multilineage.h5ad
      md5: 9df0c8d32ad48f584327008e84e19133
      size: 112022632
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.larry_multilineage:
          source: pyrovelocity
          data_file: larry_multilineage.h5ad
          dl_root: data/external
          dl_path: data/external/larry_multilineage.h5ad
          rel_path: data/external/larry_multilineage.h5ad
          url: https://ndownloader.figshare.com/files/37028569
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_multilineage_processed.h5ad
            thresh_histogram_path: data/processed/larry_multilineage_thresh_histogram.pdf
    outs:
    - path: data/processed/larry_multilineage_processed.h5ad
      md5: 58897cf4e0632c6ae1697f3352ccd351
      size: 291990233
    - path: data/processed/larry_multilineage_thresh_histogram.pdf
      md5: c3bd4e7b18d5973fbf0f671a5038f37c
      size: 22472
    - path: data/processed/larry_multilineage_thresh_histogram.pdf.png
      md5: e94374b51f0aabc95e333f203842d4b7
      size: 89448
  preprocess@pbmc10k:
    cmd: python preprocess.py process_data=[pbmc10k]
    deps:
    - path: data/external/pbmc10k.h5ad
      md5: d3e04305389fbe783950acfd9c3a7384
      size: 808692621
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.pbmc10k:
          source: pyrovelocity
          data_file: pbmc10k.h5ad
          dl_root: data/external
          dl_path: data/external/pbmc10k.h5ad
          rel_path: data/external/pbmc10k.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/pbmc10k.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/pbmc10k_processed.h5ad
            thresh_histogram_path: data/processed/pbmc10k_thresh_histogram.pdf
    outs:
    - path: data/processed/pbmc10k_processed.h5ad
      md5: 90560495ea8e77d1be26f7902e8ee48b
      size: 1522738521
    - path: data/processed/pbmc10k_thresh_histogram.pdf
      md5: a5f9d93557e23f404da3db2f2b975349
      size: 27619
    - path: data/processed/pbmc10k_thresh_histogram.pdf.png
      md5: 475bf592e989049c2bee45e74dc7e05f
      size: 144804
  train@simulate_model2:
    cmd: /usr/bin/time -v python train.py train_models=[simulate_model2]
    deps:
    - path: data/processed/simulated_medium_processed.h5ad
      md5: 6ade4ac2370f9ae5e0fcffcdd98c6802
      size: 249243888
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.simulate_model2:
          path: models/simulate_medium_model2
          model_path: models/simulate_medium_model2/model
          input_data_path: data/processed/simulated_medium_processed.h5ad
          trained_data_path: models/simulate_medium_model2/trained.h5ad
          pyrovelocity_data_path: models/simulate_medium_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/simulate_medium_model2/posterior_samples.pkl.zst
          metrics_path: models/simulate_medium_model2/metrics.json
          run_info_path: models/simulate_medium_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: leiden
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 300
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/simulate_medium_model2/loss_plot.png
    outs:
    - path: models/simulate_medium_model2/loss_plot.png
      md5: af8547eb85c9dddc3e201e4e2ba8bf09
      size: 16517
    - path: models/simulate_medium_model2/model
      md5: 9e58457e4977f8efecf2191a9338a944.dir
      size: 946421
      nfiles: 2
    - path: models/simulate_medium_model2/posterior_samples.pkl.zst
      md5: 69570a3d1673e6235bc8ec7963ecebf8
      size: 671809959
    - path: models/simulate_medium_model2/run_info.json
      md5: 9be30a81cc31f48682488c58b0f36278
      size: 436
  train@pancreas_model2:
    cmd: /usr/bin/time -v python train.py train_models=[pancreas_model2]
    deps:
    - path: data/processed/pancreas_processed.h5ad
      md5: 4aaf4084689b5e10c60231552502bd98
      size: 424784368
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pancreas_model2:
          path: models/pancreas_model2
          model_path: models/pancreas_model2/model
          input_data_path: data/processed/pancreas_processed.h5ad
          trained_data_path: models/pancreas_model2/trained.h5ad
          pyrovelocity_data_path: models/pancreas_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pancreas_model2/posterior_samples.pkl.zst
          metrics_path: models/pancreas_model2/metrics.json
          run_info_path: models/pancreas_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: clusters
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pancreas_model2/loss_plot.png
    outs:
    - path: models/pancreas_model2/loss_plot.png
      md5: 30e886ec85805fec9350fa575322c524
      size: 11645
    - path: models/pancreas_model2/model
      md5: b7ec6cf4fb301f65ad291676b188cc18.dir
      size: 1783285
      nfiles: 2
    - path: models/pancreas_model2/posterior_samples.pkl.zst
      md5: f965638d564020318d8c28a5e50d7be6
      size: 1871866452
    - path: models/pancreas_model2/run_info.json
      md5: 74fe958f435a06e6466cbd31f9784141
      size: 462
  train@pbmc68k_model2:
    cmd: /usr/bin/time -v python train.py train_models=[pbmc68k_model2]
    deps:
    - path: data/processed/pbmc68k_processed.h5ad
      md5: 56203ce58f1c85b251ce9af2ab721b95
      size: 1677133574
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pbmc68k_model2:
          path: models/pbmc68k_model2
          model_path: models/pbmc68k_model2/model
          input_data_path: data/processed/pbmc68k_processed.h5ad
          trained_data_path: models/pbmc68k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc68k_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pbmc68k_model2/posterior_samples.pkl.zst
          metrics_path: models/pbmc68k_model2/metrics.json
          run_info_path: models/pbmc68k_model2/run_info.json
          vector_field_parameters:
            basis: tsne
          gpu_id: 1
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: celltype
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pbmc68k_model2/loss_plot.png
    outs:
    - path: models/pbmc68k_model2/loss_plot.png
      md5: 020f5dba782c1ca953fd078be78ea5e3
      size: 16215
    - path: models/pbmc68k_model2/model
      md5: fd77e7d93bd926f3b0f66b5b1b452531.dir
      size: 3521589
      nfiles: 2
    - path: models/pbmc68k_model2/posterior_samples.pkl.zst
      md5: 2334200930efa2baeb2a4cc2e065bb48
      size: 6869182180
    - path: models/pbmc68k_model2/run_info.json
      md5: 01fb82860efe74926e20e12fc4e840ab
      size: 435
  train@pons_model2:
    cmd: /usr/bin/time -v python train.py train_models=[pons_model2]
    deps:
    - path: data/processed/pons_processed.h5ad
      md5: 7be4dd4a9a7a9a10eab45e5f22086489
      size: 740872463
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pons_model2:
          path: models/pons_model2
          model_path: models/pons_model2/model
          input_data_path: data/processed/pons_processed.h5ad
          trained_data_path: models/pons_model2/trained.h5ad
          pyrovelocity_data_path: models/pons_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pons_model2/posterior_samples.pkl.zst
          metrics_path: models/pons_model2/metrics.json
          run_info_path: models/pons_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 2
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: celltype
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pons_model2/loss_plot.png
    outs:
    - path: models/pons_model2/loss_plot.png
      md5: 4a0ae00f44c012ab0d90fa82d57a11ec
      size: 12093
    - path: models/pons_model2/model
      md5: db12dbde78ac878ffccc9b094283bae1.dir
      size: 1906485
      nfiles: 2
    - path: models/pons_model2/posterior_samples.pkl.zst
      md5: d9679ddd7b0192cd845325d95057fe30
      size: 2495542100
    - path: models/pons_model2/run_info.json
      md5: 9de0354a8aa4a12b7d927442c88b1764
      size: 432
  train@larry_model2:
    cmd: /usr/bin/time -v python train.py train_models=[larry_model2]
    deps:
    - path: data/processed/larry_processed.h5ad
      md5: a9bd6a0af7159813195c7ef0b36b9c3a
      size: 5361840878
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_model2:
          path: models/larry_model2
          model_path: models/larry_model2/model
          input_data_path: data/processed/larry_processed.h5ad
          trained_data_path: models/larry_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_model2/metrics.json
          run_info_path: models/larry_model2/run_info.json
          vector_field_parameters:
            basis: emb
          gpu_id: 3
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_model2/loss_plot.png
    outs:
    - path: models/larry_model2/loss_plot.png
      md5: 079875138c9e1e054494036fa7dd1e9a
      size: 11635
    - path: models/larry_model2/model
      md5: 9ad544ab4786199e32c3fef3fd5f71af.dir
      size: 4037685
      nfiles: 2
    - path: models/larry_model2/posterior_samples.pkl.zst
      md5: c70656d75a5c16a3705a81d4d3bed75c
      size: 21398884920
    - path: models/larry_model2/run_info.json
      md5: 955d232c81115e69654f6287ff359d82
      size: 433
  train@larry_tips_model2:
    cmd: /usr/bin/time -v python train.py train_models=[larry_tips_model2]
    deps:
    - path: data/processed/larry_tips_processed.h5ad
      md5: f19069e9a1a38fca101b73ac91977149
      size: 2026603098
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_tips_model2:
          path: models/larry_tips_model2
          model_path: models/larry_tips_model2/model
          input_data_path: data/processed/larry_tips_processed.h5ad
          trained_data_path: models/larry_tips_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_tips_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_tips_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_tips_model2/metrics.json
          run_info_path: models/larry_tips_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_tips_model2/loss_plot.png
    outs:
    - path: models/larry_tips_model2/loss_plot.png
      md5: d7a3538d7c19ba5813ef615e32f5bc46
      size: 13510
    - path: models/larry_tips_model2/model
      md5: 87ea4719e969d21eee4227df0589da68.dir
      size: 2530357
      nfiles: 2
    - path: models/larry_tips_model2/posterior_samples.pkl.zst
      md5: 3676847c16a14530b94334aeb42b6ef8
      size: 7954956389
    - path: models/larry_tips_model2/run_info.json
      md5: 57a8e230dee82d99d1acf258547d40e3
      size: 438
  train@larry_mono_model2:
    cmd: /usr/bin/time -v python train.py train_models=[larry_mono_model2]
    deps:
    - path: data/processed/larry_mono_processed.h5ad
      md5: 18417e95318ab4f868ed078908b986fe
      size: 112022632
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_mono_model2:
          path: models/larry_mono_model2
          model_path: models/larry_mono_model2/model
          input_data_path: data/processed/larry_mono_processed.h5ad
          trained_data_path: models/larry_mono_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_mono_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_mono_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_mono_model2/metrics.json
          run_info_path: models/larry_mono_model2/run_info.json
          vector_field_parameters:
            basis: emb
          gpu_id: 1
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_mono_model2/loss_plot.png
    outs:
    - path: models/larry_mono_model2/loss_plot.png
      md5: d5bc9d1f0491dbd3580dd61ef6c96bd8
      size: 11422
    - path: models/larry_mono_model2/model
      md5: c33772575c00a18d3277a5797b554923.dir
      size: 1159925
      nfiles: 2
    - path: models/larry_mono_model2/posterior_samples.pkl.zst
      md5: 71724b1de658963ceb84e8877c0d5be2
      size: 376534463
    - path: models/larry_mono_model2/run_info.json
      md5: 685b3255f20e68e80d78e7518b2ff0d0
      size: 438
  train@larry_neu_model2:
    cmd: /usr/bin/time -v python train.py train_models=[larry_neu_model2]
    deps:
    - path: data/processed/larry_neu_processed.h5ad
      md5: 7d1455a6712fb81fead61af3b7aa838a
      size: 92577976
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_neu_model2:
          path: models/larry_neu_model2
          model_path: models/larry_neu_model2/model
          input_data_path: data/processed/larry_neu_processed.h5ad
          trained_data_path: models/larry_neu_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_neu_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_neu_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_neu_model2/metrics.json
          run_info_path: models/larry_neu_model2/run_info.json
          vector_field_parameters:
            basis: emb
          gpu_id: 2
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_neu_model2/loss_plot.png
    outs:
    - path: models/larry_neu_model2/loss_plot.png
      md5: 76926c98e54ee2f69ce1234d3b4b962d
      size: 11568
    - path: models/larry_neu_model2/model
      md5: f6bd07434e3327170d5a450852557dfc.dir
      size: 1068981
      nfiles: 2
    - path: models/larry_neu_model2/posterior_samples.pkl.zst
      md5: 63e6e9e5841655fa242e51756749b9c4
      size: 308318767
    - path: models/larry_neu_model2/run_info.json
      md5: d27e025a64642ab881b2a7f0223fc815
      size: 437
  train@larry_multilineage_model2:
    cmd: /usr/bin/time -v python train.py train_models=[larry_multilineage_model2]
    deps:
    - path: data/processed/larry_multilineage_processed.h5ad
      md5: 58897cf4e0632c6ae1697f3352ccd351
      size: 291990233
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_multilineage_model2:
          path: models/larry_multilineage_model2
          model_path: models/larry_multilineage_model2/model
          input_data_path: data/processed/larry_multilineage_processed.h5ad
          trained_data_path: models/larry_multilineage_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_multilineage_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_multilineage_model2/metrics.json
          run_info_path: models/larry_multilineage_model2/run_info.json
          vector_field_parameters:
            basis: emb
          gpu_id: 3
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_multilineage_model2/loss_plot.png
    outs:
    - path: models/larry_multilineage_model2/loss_plot.png
      md5: 0b2547dbcc3f6b2e2685eadba847f673
      size: 12585
    - path: models/larry_multilineage_model2/model
      md5: 9c934b6b0a3a4385dec843c595bafc90.dir
      size: 1716917
      nfiles: 2
    - path: models/larry_multilineage_model2/posterior_samples.pkl.zst
      md5: e60693c4e229ded5fc2c13b0e9267130
      size: 1022220718
    - path: models/larry_multilineage_model2/run_info.json
      md5: 991e315e2cc2c375f0448254a42bbfee
      size: 446
  train@pbmc10k_model2:
    cmd: /usr/bin/time -v python train.py train_models=[pbmc10k_model2]
    deps:
    - path: data/processed/pbmc10k_processed.h5ad
      md5: 90560495ea8e77d1be26f7902e8ee48b
      size: 1522738521
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pbmc10k_model2:
          path: models/pbmc10k_model2
          model_path: models/pbmc10k_model2/model
          input_data_path: data/processed/pbmc10k_processed.h5ad
          trained_data_path: models/pbmc10k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc10k_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pbmc10k_model2/posterior_samples.pkl.zst
          metrics_path: models/pbmc10k_model2/metrics.json
          run_info_path: models/pbmc10k_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 1
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: celltype
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pbmc10k_model2/loss_plot.png
    outs:
    - path: models/pbmc10k_model2/loss_plot.png
      md5: 711249964722e4b0434e4c0eeaf5a78e
      size: 11490
    - path: models/pbmc10k_model2/model
      md5: 0e9b5585415a7b58f1c793b0a76be3aa.dir
      size: 2174133
      nfiles: 2
    - path: models/pbmc10k_model2/posterior_samples.pkl.zst
      md5: 4c6871689a69c0c5621018131886b4dc
      size: 4288915469
    - path: models/pbmc10k_model2/run_info.json
      md5: d468d3d4b5f2bf00ca2c2de02e72050a
      size: 454
  postprocess@simulate_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[simulate_model2]
    deps:
    - path: data/processed/simulated_medium_processed.h5ad
      md5: 6ade4ac2370f9ae5e0fcffcdd98c6802
      size: 249243888
    - path: models/simulate_medium_model2/model
      md5: 9e58457e4977f8efecf2191a9338a944.dir
      size: 946421
      nfiles: 2
    - path: models/simulate_medium_model2/posterior_samples.pkl.zst
      md5: 69570a3d1673e6235bc8ec7963ecebf8
      size: 671809959
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.simulate_model2:
          path: models/simulate_medium_model2
          model_path: models/simulate_medium_model2/model
          input_data_path: data/processed/simulated_medium_processed.h5ad
          trained_data_path: models/simulate_medium_model2/trained.h5ad
          pyrovelocity_data_path: models/simulate_medium_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/simulate_medium_model2/posterior_samples.pkl.zst
          metrics_path: models/simulate_medium_model2/metrics.json
          run_info_path: models/simulate_medium_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: leiden
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 300
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/simulate_medium_model2/loss_plot.png
    outs:
    - path: models/simulate_medium_model2/metrics.json
      md5: 38f847cd99c28c5685c8c93efa3f7307
      size: 95
    - path: models/simulate_medium_model2/pyrovelocity.pkl.zst
      md5: 30542b0697de442d8b7fbb3140f9ea38
      size: 44193376
    - path: models/simulate_medium_model2/trained.h5ad
      md5: 3b2237eb975c861b568803b3352ffc78
      size: 275831552
  postprocess@pancreas_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[pancreas_model2]
    deps:
    - path: data/processed/pancreas_processed.h5ad
      md5: 4aaf4084689b5e10c60231552502bd98
      size: 424784368
    - path: models/pancreas_model2/model
      md5: b7ec6cf4fb301f65ad291676b188cc18.dir
      size: 1783285
      nfiles: 2
    - path: models/pancreas_model2/posterior_samples.pkl.zst
      md5: f965638d564020318d8c28a5e50d7be6
      size: 1871866452
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pancreas_model2:
          path: models/pancreas_model2
          model_path: models/pancreas_model2/model
          input_data_path: data/processed/pancreas_processed.h5ad
          trained_data_path: models/pancreas_model2/trained.h5ad
          pyrovelocity_data_path: models/pancreas_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pancreas_model2/posterior_samples.pkl.zst
          metrics_path: models/pancreas_model2/metrics.json
          run_info_path: models/pancreas_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: clusters
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pancreas_model2/loss_plot.png
    outs:
    - path: models/pancreas_model2/metrics.json
      md5: eeed17479129137e999f017fca6b7544
      size: 98
    - path: models/pancreas_model2/pyrovelocity.pkl.zst
      md5: e2a7e45c53b1876d90ac7b79d0f400a5
      size: 170952134
    - path: models/pancreas_model2/trained.h5ad
      md5: 70aef236486c45aba779194a2d8d81f2
      size: 492127600
  postprocess@pbmc68k_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[pbmc68k_model2]
    deps:
    - path: data/processed/pbmc68k_processed.h5ad
      md5: 56203ce58f1c85b251ce9af2ab721b95
      size: 1677133574
    - path: models/pbmc68k_model2/model
      md5: fd77e7d93bd926f3b0f66b5b1b452531.dir
      size: 3521589
      nfiles: 2
    - path: models/pbmc68k_model2/posterior_samples.pkl.zst
      md5: 2334200930efa2baeb2a4cc2e065bb48
      size: 6869182180
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pbmc68k_model2:
          path: models/pbmc68k_model2
          model_path: models/pbmc68k_model2/model
          input_data_path: data/processed/pbmc68k_processed.h5ad
          trained_data_path: models/pbmc68k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc68k_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pbmc68k_model2/posterior_samples.pkl.zst
          metrics_path: models/pbmc68k_model2/metrics.json
          run_info_path: models/pbmc68k_model2/run_info.json
          vector_field_parameters:
            basis: tsne
          gpu_id: 1
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: celltype
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pbmc68k_model2/loss_plot.png
    outs:
    - path: models/pbmc68k_model2/metrics.json
      md5: 45dbfac6cddba432f1d21232c5c48172
      size: 96
    - path: models/pbmc68k_model2/pyrovelocity.pkl.zst
      md5: b3ae8fc391dda9f35cdb36056fac7223
      size: 679013346
    - path: models/pbmc68k_model2/trained.h5ad
      md5: 73382ce8ef30d9575757f061a74ecb18
      size: 2263902602
  postprocess@pons_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[pons_model2]
    deps:
    - path: data/processed/pons_processed.h5ad
      md5: 7be4dd4a9a7a9a10eab45e5f22086489
      size: 740872463
    - path: models/pons_model2/model
      md5: db12dbde78ac878ffccc9b094283bae1.dir
      size: 1906485
      nfiles: 2
    - path: models/pons_model2/posterior_samples.pkl.zst
      md5: d9679ddd7b0192cd845325d95057fe30
      size: 2495542100
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pons_model2:
          path: models/pons_model2
          model_path: models/pons_model2/model
          input_data_path: data/processed/pons_processed.h5ad
          trained_data_path: models/pons_model2/trained.h5ad
          pyrovelocity_data_path: models/pons_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pons_model2/posterior_samples.pkl.zst
          metrics_path: models/pons_model2/metrics.json
          run_info_path: models/pons_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 2
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: celltype
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pons_model2/loss_plot.png
    outs:
    - path: models/pons_model2/metrics.json
      md5: 3f802ffd6886be50fc5bab59b7aa698d
      size: 95
    - path: models/pons_model2/pyrovelocity.pkl.zst
      md5: 12705b7d63bd89eb56b30532ab883f1d
      size: 175509376
    - path: models/pons_model2/trained.h5ad
      md5: a566defb5aa1968939cbe740184014ca
      size: 859080859
  postprocess@larry_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[larry_model2]
    deps:
    - path: data/processed/larry_processed.h5ad
      md5: a9bd6a0af7159813195c7ef0b36b9c3a
      size: 5361840878
    - path: models/larry_model2/model
      md5: 9ad544ab4786199e32c3fef3fd5f71af.dir
      size: 4037685
      nfiles: 2
    - path: models/larry_model2/posterior_samples.pkl.zst
      md5: c70656d75a5c16a3705a81d4d3bed75c
      size: 21398884920
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_model2:
          path: models/larry_model2
          model_path: models/larry_model2/model
          input_data_path: data/processed/larry_processed.h5ad
          trained_data_path: models/larry_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_model2/metrics.json
          run_info_path: models/larry_model2/run_info.json
          vector_field_parameters:
            basis: emb
          gpu_id: 3
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_model2/loss_plot.png
    outs:
    - path: models/larry_model2/metrics.json
      md5: 519155a8b2af32c1394f21ba3bff1d4b
      size: 96
    - path: models/larry_model2/pyrovelocity.pkl.zst
      md5: 07aabc2f0e592483cb3268ca1bf73675
      size: 1368569189
    - path: models/larry_model2/trained.h5ad
      md5: 3077156894a95741f88ebb0c3eedad02
      size: 6320835070
  postprocess@larry_tips_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[larry_tips_model2]
    deps:
    - path: data/processed/larry_tips_processed.h5ad
      md5: f19069e9a1a38fca101b73ac91977149
      size: 2026603098
    - path: models/larry_tips_model2/model
      md5: 87ea4719e969d21eee4227df0589da68.dir
      size: 2530357
      nfiles: 2
    - path: models/larry_tips_model2/posterior_samples.pkl.zst
      md5: 3676847c16a14530b94334aeb42b6ef8
      size: 7954956389
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_tips_model2:
          path: models/larry_tips_model2
          model_path: models/larry_tips_model2/model
          input_data_path: data/processed/larry_tips_processed.h5ad
          trained_data_path: models/larry_tips_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_tips_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_tips_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_tips_model2/metrics.json
          run_info_path: models/larry_tips_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_tips_model2/loss_plot.png
    outs:
    - path: models/larry_tips_model2/metrics.json
      md5: 58a52cad49bb5115d0c0224cb08514ca
      size: 96
    - path: models/larry_tips_model2/pyrovelocity.pkl.zst
      md5: d9c7b2b6d2039f7d6b6244129cf5e871
      size: 515003260
    - path: models/larry_tips_model2/trained.h5ad
      md5: b0078a3ff8930a7d4ecdde307cdb2ab6
      size: 2376025578
  postprocess@larry_mono_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[larry_mono_model2]
    deps:
    - path: data/processed/larry_mono_processed.h5ad
      md5: 18417e95318ab4f868ed078908b986fe
      size: 112022632
    - path: models/larry_mono_model2/model
      md5: c33772575c00a18d3277a5797b554923.dir
      size: 1159925
      nfiles: 2
    - path: models/larry_mono_model2/posterior_samples.pkl.zst
      md5: 71724b1de658963ceb84e8877c0d5be2
      size: 376534463
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_mono_model2:
          path: models/larry_mono_model2
          model_path: models/larry_mono_model2/model
          input_data_path: data/processed/larry_mono_processed.h5ad
          trained_data_path: models/larry_mono_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_mono_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_mono_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_mono_model2/metrics.json
          run_info_path: models/larry_mono_model2/run_info.json
          vector_field_parameters:
            basis: emb
          gpu_id: 1
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_mono_model2/loss_plot.png
    outs:
    - path: models/larry_mono_model2/metrics.json
      md5: 97040e222dad65fc38950f5672f27a2a
      size: 96
    - path: models/larry_mono_model2/pyrovelocity.pkl.zst
      md5: 34d8665530998c09c777d2fa626fb5b8
      size: 29734744
    - path: models/larry_mono_model2/trained.h5ad
      md5: e4be131edbd5eccd10ec89ca85278374
      size: 128091984
  postprocess@larry_neu_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[larry_neu_model2]
    deps:
    - path: data/processed/larry_neu_processed.h5ad
      md5: 7d1455a6712fb81fead61af3b7aa838a
      size: 92577976
    - path: models/larry_neu_model2/model
      md5: f6bd07434e3327170d5a450852557dfc.dir
      size: 1068981
      nfiles: 2
    - path: models/larry_neu_model2/posterior_samples.pkl.zst
      md5: 63e6e9e5841655fa242e51756749b9c4
      size: 308318767
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_neu_model2:
          path: models/larry_neu_model2
          model_path: models/larry_neu_model2/model
          input_data_path: data/processed/larry_neu_processed.h5ad
          trained_data_path: models/larry_neu_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_neu_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_neu_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_neu_model2/metrics.json
          run_info_path: models/larry_neu_model2/run_info.json
          vector_field_parameters:
            basis: emb
          gpu_id: 2
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_neu_model2/loss_plot.png
    outs:
    - path: models/larry_neu_model2/metrics.json
      md5: 335e7605ef73e5f95330aa0f835c8137
      size: 96
    - path: models/larry_neu_model2/pyrovelocity.pkl.zst
      md5: 1f8707241085692cc00a16bc61bc50c1
      size: 25862424
    - path: models/larry_neu_model2/trained.h5ad
      md5: 4dd1e6d0046128f15724f5724b16dc59
      size: 105880284
  postprocess@larry_multilineage_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[larry_multilineage_model2]
    deps:
    - path: data/processed/larry_multilineage_processed.h5ad
      md5: 58897cf4e0632c6ae1697f3352ccd351
      size: 291990233
    - path: models/larry_multilineage_model2/model
      md5: 9c934b6b0a3a4385dec843c595bafc90.dir
      size: 1716917
      nfiles: 2
    - path: models/larry_multilineage_model2/posterior_samples.pkl.zst
      md5: e60693c4e229ded5fc2c13b0e9267130
      size: 1022220718
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.larry_multilineage_model2:
          path: models/larry_multilineage_model2
          model_path: models/larry_multilineage_model2/model
          input_data_path: data/processed/larry_multilineage_processed.h5ad
          trained_data_path: models/larry_multilineage_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/larry_multilineage_model2/posterior_samples.pkl.zst
          metrics_path: models/larry_multilineage_model2/metrics.json
          run_info_path: models/larry_multilineage_model2/run_info.json
          vector_field_parameters:
            basis: emb
          gpu_id: 3
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: true
            batch_size: 4000
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: state_info
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 1000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/larry_multilineage_model2/loss_plot.png
    outs:
    - path: models/larry_multilineage_model2/metrics.json
      md5: 4aa48d05ce5a4bae219ebb5677407084
      size: 96
    - path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
      md5: 37b5f641e6470f3bb45712c6ffa313d5
      size: 66381699
    - path: models/larry_multilineage_model2/trained.h5ad
      md5: 324c410d940e5b11d29f02566d51c12a
      size: 334119477
  postprocess@pbmc10k_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[pbmc10k_model2]
    deps:
    - path: data/processed/pbmc10k_processed.h5ad
      md5: 90560495ea8e77d1be26f7902e8ee48b
      size: 1522738521
    - path: models/pbmc10k_model2/model
      md5: 0e9b5585415a7b58f1c793b0a76be3aa.dir
      size: 2174133
      nfiles: 2
    - path: models/pbmc10k_model2/posterior_samples.pkl.zst
      md5: 4c6871689a69c0c5621018131886b4dc
      size: 4288915469
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pbmc10k_model2:
          path: models/pbmc10k_model2
          model_path: models/pbmc10k_model2/model
          input_data_path: data/processed/pbmc10k_processed.h5ad
          trained_data_path: models/pbmc10k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc10k_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pbmc10k_model2/posterior_samples.pkl.zst
          metrics_path: models/pbmc10k_model2/metrics.json
          run_info_path: models/pbmc10k_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 1
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: celltype
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pbmc10k_model2/loss_plot.png
    outs:
    - path: models/pbmc10k_model2/metrics.json
      md5: 7d7e326a92b84514d2a61e2fe9c68de3
      size: 99
    - path: models/pbmc10k_model2/pyrovelocity.pkl.zst
      md5: bd9a02a9b0910eac2a423f79cb2b12bb
      size: 330037760
    - path: models/pbmc10k_model2/trained.h5ad
      md5: e7802daca9b8679c586e3977420daacf
      size: 1737302789
  summarize@pancreas_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[pancreas_model2]
    deps:
    - path: models/pancreas_model2/pyrovelocity.pkl.zst
      md5: e2a7e45c53b1876d90ac7b79d0f400a5
      size: 170952134
    - path: models/pancreas_model2/trained.h5ad
      md5: 70aef236486c45aba779194a2d8d81f2
      size: 492127600
    - path: summarize.py
      md5: 424b1ddc7fe21fc2c66aac74cf8c8fbb
      size: 46288
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.pancreas_model2:
          path: reports/pancreas_model2
          trained_data_path: models/pancreas_model2/trained.h5ad
          pyrovelocity_data_path: models/pancreas_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/pancreas_model2_dataframe.pkl.zst
          shared_time_plot: reports/pancreas_model2/shared_time.pdf
          volcano_plot: reports/pancreas_model2/volcano.pdf
          rainbow_plot: reports/pancreas_model2/rainbow.pdf
          uncertainty_param_plot: reports/pancreas_model2/param_uncertainties.pdf
          vector_field_plot: reports/pancreas_model2/vector_field.pdf
          posterior_phase_portraits: reports/pancreas_model2/posterior_phase_portraits
          t0_selection: reports/pancreas_model2/t0_selection.tif
          biomarker_selection_plot: reports/pancreas_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/pancreas_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/pancreas_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/pancreas_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/pancreas_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/pancreas_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/pancreas_model2_dataframe.pkl.zst
      md5: bbff19677beed1c7cf3766506f391723
      size: 12359084
    - path: reports/pancreas_model2/clusters_violin_lin.pdf
      md5: e6144d76a3f7228edb8940fc84025147
      size: 123915
    - path: reports/pancreas_model2/clusters_violin_lin.pdf.png
      md5: 971788804b0d9e9ad6fd24d9eeeee851
      size: 1690565
    - path: reports/pancreas_model2/clusters_violin_log.pdf
      md5: b0c32b314434f062e2b668498fad5e48
      size: 124406
    - path: reports/pancreas_model2/clusters_violin_log.pdf.png
      md5: ef3f3109e6d7cf4ea50024e47e3bb38e
      size: 1947142
    - path: reports/pancreas_model2/fig2_part1_plot.pdf
      md5: a15fe57f1ba0911d8f8e03e0105f0fd5
      size: 431050
    - path: reports/pancreas_model2/fig2_part1_plot.pdf.png
      md5: c1619aac24eab4c1bd5658f234d151c5
      size: 635032
    - path: reports/pancreas_model2/fig2_part2_plot.pdf
      md5: 63c233be62e8e51fcb92172309a8b6fe
      size: 1245120
    - path: reports/pancreas_model2/fig2_part2_plot.pdf.png
      md5: 6d90e71063fa7d5a5b517c6b47d42ceb
      size: 658272
    - path: reports/pancreas_model2/param_uncertainties.pdf
      md5: e3091b7dc13ac74274aa58cfa9c52336
      size: 139529
    - path: reports/pancreas_model2/param_uncertainties.pdf.png
      md5: 77528751e2abe1f36097bcc7f6e54c59
      size: 833569
    - path: reports/pancreas_model2/rainbow.pdf
      md5: 4e5f6af12de6b49312060381253e7ef5
      size: 5193109
    - path: reports/pancreas_model2/rainbow.pdf.png
      md5: 21875e8fa5976ddc7e5fc06effe2a0ff
      size: 1503751
    - path: reports/pancreas_model2/shared_time.pdf
      md5: c1b1f6463e9d2327ddfce577f4b0ae2f
      size: 236624
    - path: reports/pancreas_model2/vector_field.pdf
      md5: b2022c2bf53ea58ff78a4a6213fb6c51
      size: 397606
    - path: reports/pancreas_model2/vector_field.pdf.png
      md5: 1b8261f3e712737c803dff204e944e27
      size: 698872
    - path: reports/pancreas_model2/volcano.pdf
      md5: ab8ccec2f6a67996427ba79b4e23eae7
      size: 35885
    - path: reports/pancreas_model2/volcano.pdf.png
      md5: ce41883e836fbaac1f9dcfce4f908dab
      size: 386741
  summarize@pbmc68k_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[pbmc68k_model2]
    deps:
    - path: models/pbmc68k_model2/pyrovelocity.pkl.zst
      md5: b3ae8fc391dda9f35cdb36056fac7223
      size: 679013346
    - path: models/pbmc68k_model2/trained.h5ad
      md5: 73382ce8ef30d9575757f061a74ecb18
      size: 2263902602
    - path: summarize.py
      md5: af3ae5c1ad5dad0a19d971dc518542e3
      size: 42041
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.pbmc68k_model2:
          path: reports/pbmc68k_model2
          trained_data_path: models/pbmc68k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc68k_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/pbmc68k_model2_dataframe.pkl.zst
          shared_time_plot: reports/pbmc68k_model2/shared_time.pdf
          volcano_plot: reports/pbmc68k_model2/volcano.pdf
          rainbow_plot: reports/pbmc68k_model2/rainbow.pdf
          uncertainty_param_plot: reports/pbmc68k_model2/param_uncertainties.pdf
          vector_field_plot: reports/pbmc68k_model2/vector_field.pdf
          posterior_phase_portraits: reports/pbmc68k_model2/posterior_phase_portraits
          t0_selection: reports/pbmc68k_model2/t0_selection.tif
          biomarker_selection_plot: reports/pbmc68k_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/pbmc68k_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/pbmc68k_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/pbmc68k_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/pbmc68k_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/pbmc68k_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/pbmc68k_model2_dataframe.pkl.zst
      md5: dc17c1ef835c7500d0b694422481fbd1
      size: 38352654
    - path: reports/pbmc68k_model2/clusters_violin_lin.pdf
      md5: d1af047784754dc42e9764ebc05bf1f8
      size: 163865
    - path: reports/pbmc68k_model2/clusters_violin_lin.pdf.png
      md5: cbdc19ab48ba9d4063e74d852c9f103f
      size: 2460186
    - path: reports/pbmc68k_model2/clusters_violin_log.pdf
      md5: 802213dcb0d6fff43af8dbaa6c27b0e9
      size: 167073
    - path: reports/pbmc68k_model2/clusters_violin_log.pdf.png
      md5: bcdf46e8f26d1e4f545bd553ce618aa6
      size: 2688487
    - path: reports/pbmc68k_model2/fig2_part1_plot.pdf
      md5: 7f4eb76a07fa0828e3b69978b04001da
      size: 4364577
    - path: reports/pbmc68k_model2/fig2_part1_plot.pdf.png
      md5: 209f6d9288a71e44199f2eba4722b80f
      size: 815723
    - path: reports/pbmc68k_model2/fig2_part2_plot.pdf
      md5: 7ba977d447e45c55b87c6c41eec4f845
      size: 21750906
    - path: reports/pbmc68k_model2/fig2_part2_plot.pdf.png
      md5: 91c659445824b9446200e7fd40b5924e
      size: 880548
    - path: reports/pbmc68k_model2/param_uncertainties.pdf
      md5: 2ac809d730e75e2972518e6de0a95f65
      size: 139420
    - path: reports/pbmc68k_model2/param_uncertainties.pdf.png
      md5: 72c1ccaaaae6e83a1d50afbab60a2e9f
      size: 857317
    - path: reports/pbmc68k_model2/rainbow.pdf
      md5: 3c49fe938d45cd20aca99e72d049b59a
      size: 94508392
    - path: reports/pbmc68k_model2/rainbow.pdf.png
      md5: 1c6d808ad9fe3e88e3b11045e94323be
      size: 2144226
    - path: reports/pbmc68k_model2/shared_time.pdf
      md5: e4fb4c74ad59abc2e58edc7504b83187
      size: 210524
    - path: reports/pbmc68k_model2/vector_field.pdf
      md5: 5ae277bf4240328a8815077e2786ca43
      size: 1033561
    - path: reports/pbmc68k_model2/vector_field.pdf.png
      md5: 995204937711bf1c6932fde14ba1d59c
      size: 1196338
    - path: reports/pbmc68k_model2/volcano.pdf
      md5: fea7070cb4fbec00b725995fcd413464
      size: 36783
    - path: reports/pbmc68k_model2/volcano.pdf.png
      md5: 6ca9a2aa15097480421e3cd5311c2aa3
      size: 353603
  summarize@pons_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[pons_model2]
    deps:
    - path: models/pons_model2/pyrovelocity.pkl.zst
      md5: 12705b7d63bd89eb56b30532ab883f1d
      size: 175509376
    - path: models/pons_model2/trained.h5ad
      md5: a566defb5aa1968939cbe740184014ca
      size: 859080859
    - path: summarize.py
      md5: af3ae5c1ad5dad0a19d971dc518542e3
      size: 42041
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.pons_model2:
          path: reports/pons_model2
          trained_data_path: models/pons_model2/trained.h5ad
          pyrovelocity_data_path: models/pons_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/pons_model2_dataframe.pkl.zst
          shared_time_plot: reports/pons_model2/shared_time.pdf
          volcano_plot: reports/pons_model2/volcano.pdf
          rainbow_plot: reports/pons_model2/rainbow.pdf
          uncertainty_param_plot: reports/pons_model2/param_uncertainties.pdf
          vector_field_plot: reports/pons_model2/vector_field.pdf
          posterior_phase_portraits: reports/pons_model2/posterior_phase_portraits
          t0_selection: reports/pons_model2/t0_selection.tif
          biomarker_selection_plot: reports/pons_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/pons_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/pons_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/pons_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/pons_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/pons_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/pons_model2_dataframe.pkl.zst
      md5: b17eb7eaadc357d32ae68e3c30ee33f4
      size: 20173882
    - path: reports/pons_model2/clusters_violin_lin.pdf
      md5: 5cfe8395ae3ff6ad31e0e6985dedd721
      size: 72293
    - path: reports/pons_model2/clusters_violin_lin.pdf.png
      md5: e8d0f8d080d0e89cb21a276878c9c831
      size: 1749195
    - path: reports/pons_model2/clusters_violin_log.pdf
      md5: 53bcce06d0090fbc049d5ed4c2f5eb2d
      size: 72547
    - path: reports/pons_model2/clusters_violin_log.pdf.png
      md5: 7830cb2d8b422016d3754f940e7d77f1
      size: 1831635
    - path: reports/pons_model2/fig2_part1_plot.pdf
      md5: 14093f75db3ea29fd796fcd01e5851c9
      size: 601195
    - path: reports/pons_model2/fig2_part1_plot.pdf.png
      md5: 38c6848240073b04adc0a90c36215392
      size: 637532
    - path: reports/pons_model2/fig2_part2_plot.pdf
      md5: 7ddc25f8938dc0febe6cc8577568df86
      size: 2092120
    - path: reports/pons_model2/fig2_part2_plot.pdf.png
      md5: f97e47cd33380caff8011f213ad14788
      size: 695197
    - path: reports/pons_model2/param_uncertainties.pdf
      md5: 595340aa604752015e44bd37524b17a5
      size: 140098
    - path: reports/pons_model2/param_uncertainties.pdf.png
      md5: fbb4d255a8d6dc6374dbad073c2603d8
      size: 905995
    - path: reports/pons_model2/rainbow.pdf
      md5: b6068bbdde59b096b79257163c7f4409
      size: 8732898
    - path: reports/pons_model2/rainbow.pdf.png
      md5: 3342962a37537da8712babedb45148e7
      size: 1357455
    - path: reports/pons_model2/shared_time.pdf
      md5: 34725d47d28e442bdb6b6a2d8305d409
      size: 314031
    - path: reports/pons_model2/vector_field.pdf
      md5: b851d5566c5753691a21e1f4c142b7c6
      size: 377129
    - path: reports/pons_model2/vector_field.pdf.png
      md5: c4d786ee4e5c1b0dd6a690d0660e7858
      size: 798076
    - path: reports/pons_model2/volcano.pdf
      md5: 9dac5a311547d4c9ef165aef865260fb
      size: 37547
    - path: reports/pons_model2/volcano.pdf.png
      md5: 5ab65103d579376aac062977d5caeb3d
      size: 339230
  summarize@pbmc10k_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[pbmc10k_model2]
    deps:
    - path: models/pbmc10k_model2/pyrovelocity.pkl.zst
      md5: bd9a02a9b0910eac2a423f79cb2b12bb
      size: 330037760
    - path: models/pbmc10k_model2/trained.h5ad
      md5: e7802daca9b8679c586e3977420daacf
      size: 1737302789
    - path: summarize.py
      md5: af3ae5c1ad5dad0a19d971dc518542e3
      size: 42041
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.pbmc10k_model2:
          path: reports/pbmc10k_model2
          trained_data_path: models/pbmc10k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc10k_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/pbmc10k_model2_dataframe.pkl.zst
          shared_time_plot: reports/pbmc10k_model2/shared_time.pdf
          volcano_plot: reports/pbmc10k_model2/volcano.pdf
          rainbow_plot: reports/pbmc10k_model2/rainbow.pdf
          uncertainty_param_plot: reports/pbmc10k_model2/param_uncertainties.pdf
          vector_field_plot: reports/pbmc10k_model2/vector_field.pdf
          posterior_phase_portraits: reports/pbmc10k_model2/posterior_phase_portraits
          t0_selection: reports/pbmc10k_model2/t0_selection.tif
          biomarker_selection_plot: reports/pbmc10k_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/pbmc10k_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/pbmc10k_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/pbmc10k_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/pbmc10k_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/pbmc10k_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/pbmc10k_model2_dataframe.pkl.zst
      md5: a188f88c6bc8d6de79708712d5ec9b9d
      size: 37582371
    - path: reports/pbmc10k_model2/clusters_violin_lin.pdf
      md5: 05e71e1285325ac7d6c4d5a58554b1fc
      size: 216897
    - path: reports/pbmc10k_model2/clusters_violin_lin.pdf.png
      md5: eaa1c4fa4c875e138f2f68aa83c18cb7
      size: 2910828
    - path: reports/pbmc10k_model2/clusters_violin_log.pdf
      md5: d7e433aafeff7ce4255502e1b2685b22
      size: 216919
    - path: reports/pbmc10k_model2/clusters_violin_log.pdf.png
      md5: 412fa86572728bdb427ebea43335c7f5
      size: 2863141
    - path: reports/pbmc10k_model2/fig2_part1_plot.pdf
      md5: a7a47be3d42728c2f1962f28ca676f99
      size: 959938
    - path: reports/pbmc10k_model2/fig2_part1_plot.pdf.png
      md5: d8e83b91af6406bb82052e6d73b44759
      size: 744575
    - path: reports/pbmc10k_model2/fig2_part2_plot.pdf
      md5: 3642bfa4077dec93d93261fa9d37df70
      size: 3774656
    - path: reports/pbmc10k_model2/fig2_part2_plot.pdf.png
      md5: 05b9e57755ea4b36be54f5018b7535c7
      size: 774409
    - path: reports/pbmc10k_model2/param_uncertainties.pdf
      md5: 5630f2f763d85d19a8a1f730951bb493
      size: 140759
    - path: reports/pbmc10k_model2/param_uncertainties.pdf.png
      md5: c67c211d055d931d68757fb8e95d3453
      size: 946132
    - path: reports/pbmc10k_model2/rainbow.pdf
      md5: c6c9b907e4687eb18df8ee302e8ebb65
      size: 15859207
    - path: reports/pbmc10k_model2/rainbow.pdf.png
      md5: 0ff36cb29b4d4fff29724cf6baabe9c7
      size: 1549057
    - path: reports/pbmc10k_model2/shared_time.pdf
      md5: 7c7a7ee98333ae6912e2261705366304
      size: 377316
    - path: reports/pbmc10k_model2/vector_field.pdf
      md5: 6f5a2539d1dbc7baa0f38d208cd6213e
      size: 631348
    - path: reports/pbmc10k_model2/vector_field.pdf.png
      md5: 3bbdbeca9ec62d47414e3487b40c3297
      size: 1077047
    - path: reports/pbmc10k_model2/volcano.pdf
      md5: 932eea972b2a502954ba9269289f6331
      size: 38259
    - path: reports/pbmc10k_model2/volcano.pdf.png
      md5: eeec3780fd54d2e8c2723e7f3789aa02
      size: 375828
  summarize@larry_tips_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[larry_tips_model2]
    deps:
    - path: models/larry_tips_model2/pyrovelocity.pkl.zst
      md5: d9c7b2b6d2039f7d6b6244129cf5e871
      size: 515003260
    - path: models/larry_tips_model2/trained.h5ad
      md5: b0078a3ff8930a7d4ecdde307cdb2ab6
      size: 2376025578
    - path: summarize.py
      md5: af3ae5c1ad5dad0a19d971dc518542e3
      size: 42041
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.larry_tips_model2:
          path: reports/larry_tips_model2
          trained_data_path: models/larry_tips_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_tips_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/larry_tips_model2_dataframe.pkl.zst
          shared_time_plot: reports/larry_tips_model2/shared_time.pdf
          volcano_plot: reports/larry_tips_model2/volcano.pdf
          rainbow_plot: reports/larry_tips_model2/rainbow.pdf
          uncertainty_param_plot: reports/larry_tips_model2/param_uncertainties.pdf
          vector_field_plot: reports/larry_tips_model2/vector_field.pdf
          posterior_phase_portraits: reports/larry_tips_model2/posterior_phase_portraits
          t0_selection: reports/larry_tips_model2/t0_selection.tif
          biomarker_selection_plot: reports/larry_tips_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/larry_tips_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/larry_tips_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/larry_tips_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/larry_tips_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/larry_tips_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/larry_tips_model2_dataframe.pkl.zst
      md5: 4baed90a859b857667bf246d3d9ec24c
      size: 50020146
    - path: reports/larry_tips_model2/clusters_violin_lin.pdf
      md5: 27bf173d6fc9abd71a7ad034ffbc97df
      size: 152179
    - path: reports/larry_tips_model2/clusters_violin_lin.pdf.png
      md5: 57f3a319907209b70da24bfdda1a280f
      size: 2407588
    - path: reports/larry_tips_model2/clusters_violin_log.pdf
      md5: abf9761a4efed3b1a2ca1ed691c22af2
      size: 152420
    - path: reports/larry_tips_model2/clusters_violin_log.pdf.png
      md5: 51836410698b1558f5a3c7029975d289
      size: 2497949
    - path: reports/larry_tips_model2/fig2_part1_plot.pdf
      md5: 9408ff564ed1422aacb3836434fe34d6
      size: 1321249
    - path: reports/larry_tips_model2/fig2_part1_plot.pdf.png
      md5: ce8a9276e8d326f0be98055b1540e633
      size: 537803
    - path: reports/larry_tips_model2/fig2_part2_plot.pdf
      md5: 91e1fb4846be79ba862f5b092f365536
      size: 5851319
    - path: reports/larry_tips_model2/fig2_part2_plot.pdf.png
      md5: 77927bb5c7f127cb9991952c663551e4
      size: 624139
    - path: reports/larry_tips_model2/param_uncertainties.pdf
      md5: 304289d2c919a14b351fbef711068f26
      size: 141016
    - path: reports/larry_tips_model2/param_uncertainties.pdf.png
      md5: ca85a3ec3065c44731a969df0b5a44ef
      size: 1017316
    - path: reports/larry_tips_model2/rainbow.pdf
      md5: f2ba2249a38058867881be01a594eee5
      size: 25626672
    - path: reports/larry_tips_model2/rainbow.pdf.png
      md5: ff07bc66b7b6cd78bce2b673ee36b97e
      size: 1671687
    - path: reports/larry_tips_model2/shared_time.pdf
      md5: 86bcc0d3ea314a555a2d703eace58ea1
      size: 269075
    - path: reports/larry_tips_model2/vector_field.pdf
      md5: f0966baf46206866cb25b0ae3f7b27a5
      size: 248905
    - path: reports/larry_tips_model2/vector_field.pdf.png
      md5: 0bc0f22dfb77134333a6ca6b382902b2
      size: 556044
    - path: reports/larry_tips_model2/volcano.pdf
      md5: 63da68b9a0424d8babbc8cd63b603b64
      size: 35995
    - path: reports/larry_tips_model2/volcano.pdf.png
      md5: 971fc5e5a456b8befc43eb20dc9ff29d
      size: 366966
  figureS3:
    cmd: python figS3/figure.py
    deps:
    - path: figS3/figure.py
      md5: d5cf643f22a24319523a5078a3648654
      size: 12882
    - path: models/pancreas_model2/pyrovelocity.pkl.zst
      md5: e589bc2a15f2db756df3ae9c2e1db3ed
      size: 65630080
    - path: models/pancreas_model2/trained.h5ad
      md5: db1f418ac3a13d7f0ec40adfbec0cbcf
      size: 169776624
    - path: models/pbmc68k_model2/pyrovelocity.pkl.zst
      md5: c4adabfaa2e0ea3baa15776847cc7a93
      size: 513892944
    - path: models/pbmc68k_model2/trained.h5ad
      md5: 1416f0cc98346453f87d197c61887aa2
      size: 1112777602
    params:
      config.yaml:
        reports.figureS3:
          tag: figS3
          path: reports/figS3
          tif_path: reports/figS3/figS3_raw_gene_selection_model2.tif
          svg_path: reports/figS3/figS3_raw_gene_selection_model2.svg
    outs:
    - path: reports/figS3/figS3_raw_gene_selection_model2.svg
      md5: 9aaf6c1738a98e7745513c2ec8be482e
      size: 49194925
    - path: reports/figS3/figS3_raw_gene_selection_model2.tif
      md5: 380c043d793b7bf90b8983b61aede637
      size: 19533902
  figureS3_extras:
    cmd: python figS3/figure_extras.py train_models=[pancreas_model2,pbmc10k_model2,pbmc68k_model2,pons_model2,larry_model2,larry_neu_model2,larry_mono_model2,larry_multilineage_model2,larry_tips_model2]
    deps:
    - path: figS3/figure_extras.py
      md5: 8c0e23c130cb342b246fa6dde4f4240b
      size: 11429
    - path: models/larry_model2/pyrovelocity.pkl.zst
      md5: 07aabc2f0e592483cb3268ca1bf73675
      size: 1368569189
    - path: models/larry_mono_model2/pyrovelocity.pkl.zst
      md5: 34d8665530998c09c777d2fa626fb5b8
      size: 29734744
    - path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
      md5: 37b5f641e6470f3bb45712c6ffa313d5
      size: 66381699
    - path: models/larry_neu_model2/pyrovelocity.pkl.zst
      md5: 1f8707241085692cc00a16bc61bc50c1
      size: 25862424
    - path: models/larry_tips_model2/pyrovelocity.pkl.zst
      md5: d9c7b2b6d2039f7d6b6244129cf5e871
      size: 515003260
    - path: models/pancreas_model2/pyrovelocity.pkl.zst
      md5: 51ea60ea757bf317cad28b39484e088f
      size: 105519424
    - path: models/pbmc10k_model2/pyrovelocity.pkl.zst
      md5: bd9a02a9b0910eac2a423f79cb2b12bb
      size: 330037760
    - path: models/pbmc68k_model2/pyrovelocity.pkl.zst
      md5: b3ae8fc391dda9f35cdb36056fac7223
      size: 679013346
    - path: models/pons_model2/pyrovelocity.pkl.zst
      md5: 12705b7d63bd89eb56b30532ab883f1d
      size: 175509376
    params:
      config.yaml:
        reports.figureS3:
          tag: figS3
          path: reports/figS3
          tif_path: reports/figS3/figS3_raw_gene_selection_model2.tif
          svg_path: reports/figS3/figS3_raw_gene_selection_model2.svg
    outs:
    - path: reports/figS3/figureS3_extras_larry_lin.pdf
      md5: 64d0f8aa1aa2be14bba01dc67ee2cf9d
      size: 82167
    - path: reports/figS3/figureS3_extras_larry_log.pdf
      md5: 9752d43bb0c755e6e47640528600ddad
      size: 83010
    - path: reports/figS3/figureS3_extras_pbmc_lin.pdf
      md5: dbb72688199ca24f9ce882948d8cb44c
      size: 69336
    - path: reports/figS3/figureS3_extras_pbmc_log.pdf
      md5: 98811102739bc65c907d983819a52e4b
      size: 71024
  data_download@larry_cospar:
    cmd: python data_download.py process_data=[larry_cospar]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.larry_cospar:
          source: pyrovelocity
          data_file: larry_cospar.h5ad
          dl_root: data/external
          dl_path: data/external/larry_cospar.h5ad
          rel_path: data/external/larry_cospar.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/larry_cospar.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_cospar_processed.h5ad
            thresh_histogram_path: data/processed/larry_cospar_thresh_histogram.pdf
    outs:
    - path: data/external/larry_cospar.h5ad
      md5: a37647045e7265b4f63958e4fcdf5a44
      size: 1856953062
  preprocess@larry_cospar:
    cmd: python preprocess.py process_data=[larry_cospar]
    deps:
    - path: data/external/larry_cospar.h5ad
      md5: a37647045e7265b4f63958e4fcdf5a44
      size: 1856953062
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.larry_cospar:
          source: pyrovelocity
          data_file: larry_cospar.h5ad
          dl_root: data/external
          dl_path: data/external/larry_cospar.h5ad
          rel_path: data/external/larry_cospar.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/larry_cospar.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_cospar_processed.h5ad
            thresh_histogram_path: data/processed/larry_cospar_thresh_histogram.pdf
    outs:
    - path: data/processed/larry_cospar_processed.h5ad
      md5: 4e5a8af46dc090bcebb2b4f7d4c8087e
      size: 2965439664
    - path: data/processed/larry_cospar_thresh_histogram.pdf
      md5: 8463428f351c9a222b31e2c1c43c05ee
      size: 40297
    - path: data/processed/larry_cospar_thresh_histogram.pdf.png
      md5: 39b32d113db047c9be4b7371319e0bc4
      size: 129133
  data_download@larry_dynamical:
    cmd: python data_download.py process_data=[larry_dynamical]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.larry_dynamical:
          source: pyrovelocity
          data_file: larry_dynamical.h5ad
          dl_root: data/external
          dl_path: data/external/larry_dynamical.h5ad
          rel_path: data/external/larry_dynamical.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/larry_dynamical.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_dynamical_processed.h5ad
            thresh_histogram_path: data/processed/larry_dynamical_thresh_histogram.pdf
    outs:
    - path: data/external/larry_dynamical.h5ad
      md5: 8e436da12c7d04f049d822e88ef75680
      size: 5269119872
  data_download@larry_cytotrace:
    cmd: python data_download.py process_data=[larry_cytotrace]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.larry_cytotrace:
          source: pyrovelocity
          data_file: larry_cytotrace.h5ad
          dl_root: data/external
          dl_path: data/external/larry_cytotrace.h5ad
          rel_path: data/external/larry_cytotrace.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/larry_cytotrace.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_cytotrace_processed.h5ad
            thresh_histogram_path: data/processed/larry_cytotrace_thresh_histogram.pdf
    outs:
    - path: data/external/larry_cytotrace.h5ad
      md5: 5149fda86944ac19f0c9ab31461ec22f
      size: 1526733926
  preprocess@larry_cytotrace:
    cmd: python preprocess.py process_data=[larry_cytotrace]
    deps:
    - path: data/external/larry_cytotrace.h5ad
      md5: 5149fda86944ac19f0c9ab31461ec22f
      size: 1526733926
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.larry_cytotrace:
          source: pyrovelocity
          data_file: larry_cytotrace.h5ad
          dl_root: data/external
          dl_path: data/external/larry_cytotrace.h5ad
          rel_path: data/external/larry_cytotrace.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/larry_cytotrace.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_cytotrace_processed.h5ad
            thresh_histogram_path: data/processed/larry_cytotrace_thresh_histogram.pdf
    outs:
    - path: data/processed/larry_cytotrace_processed.h5ad
      md5: 5f7f6440a0f2e4bed3007c2e02625e27
      size: 1967302734
    - path: data/processed/larry_cytotrace_thresh_histogram.pdf
      md5: 1a3fd0a8ce77728287af1aa829a3becc
      size: 63591
    - path: data/processed/larry_cytotrace_thresh_histogram.pdf.png
      md5: 0ce3104bafa295980bd61779b167206c
      size: 115413
  preprocess@larry_dynamical:
    cmd: python preprocess.py process_data=[larry_dynamical]
    deps:
    - path: data/external/larry_dynamical.h5ad
      md5: 8e436da12c7d04f049d822e88ef75680
      size: 5269119872
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.larry_dynamical:
          source: pyrovelocity
          data_file: larry_dynamical.h5ad
          dl_root: data/external
          dl_path: data/external/larry_dynamical.h5ad
          rel_path: data/external/larry_dynamical.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/larry_dynamical.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/larry_dynamical_processed.h5ad
            thresh_histogram_path: data/processed/larry_dynamical_thresh_histogram.pdf
    outs:
    - path: data/processed/larry_dynamical_processed.h5ad
      md5: d9671e0b9076f3f9f0697494a80aa67e
      size: 5390277128
    - path: data/processed/larry_dynamical_thresh_histogram.pdf
      md5: 7bd17183d5c54b78a78bab1e4efa2585
      size: 40301
    - path: data/processed/larry_dynamical_thresh_histogram.pdf.png
      md5: 5d0ccba965f1d9e65bf6807e0276df47
      size: 129830
  summarize@larry_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[larry_model2]
    deps:
    - path: models/larry_model2/pyrovelocity.pkl.zst
      md5: 07aabc2f0e592483cb3268ca1bf73675
      size: 1368569189
    - path: models/larry_model2/trained.h5ad
      md5: 3077156894a95741f88ebb0c3eedad02
      size: 6320835070
    - path: summarize.py
      md5: 66d88b3802c50d56ce263008385a60b1
      size: 39519
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.larry_model2:
          path: reports/larry_model2
          trained_data_path: models/larry_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/larry_model2_dataframe.pkl.zst
          shared_time_plot: reports/larry_model2/shared_time.pdf
          volcano_plot: reports/larry_model2/volcano.pdf
          rainbow_plot: reports/larry_model2/rainbow.pdf
          uncertainty_param_plot: reports/larry_model2/param_uncertainties.pdf
          vector_field_plot: reports/larry_model2/vector_field.pdf
          posterior_phase_portraits: reports/larry_model2/posterior_phase_portraits
          t0_selection: reports/larry_model2/t0_selection.tif
          biomarker_selection_plot: reports/larry_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/larry_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/larry_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/larry_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/larry_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/larry_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/larry_model2_dataframe.pkl.zst
      md5: 91a40d3791dce553689481b4d6c3ad2d
      size: 130451734
    - path: reports/larry_model2/clusters_violin_lin.pdf
      md5: 6edc5c6c8bee9ea66fd5ea5ae5783712
      size: 164860
    - path: reports/larry_model2/clusters_violin_lin.pdf.png
      md5: 21cfae2bb356f0501bf8aa4a49e5dd47
      size: 2482638
    - path: reports/larry_model2/clusters_violin_log.pdf
      md5: 622b998bb9e6834071844e53c1b3c862
      size: 165446
    - path: reports/larry_model2/clusters_violin_log.pdf.png
      md5: a65badcbce04f1f6e38bc790f8470006
      size: 2558609
    - path: reports/larry_model2/fig2_part1_plot.pdf
      md5: f56ca3d6ddff2da61a4e1b792aaecaca
      size: 3269151
    - path: reports/larry_model2/fig2_part1_plot.pdf.png
      md5: 15e9eec5a3a9bcb874a24524ed515f55
      size: 693598
    - path: reports/larry_model2/fig2_part2_plot.pdf
      md5: 47bee722d69d747152e29502847d3844
      size: 15441104
    - path: reports/larry_model2/fig2_part2_plot.pdf.png
      md5: ba5884eeb12c2af52f19047267003ecb
      size: 849882
    - path: reports/larry_model2/param_uncertainties.pdf
      md5: 35578caa499a5df4f82130390c1b3043
      size: 141350
    - path: reports/larry_model2/param_uncertainties.pdf.png
      md5: 35c3d54656bfb9cfd2fce386880653a9
      size: 1042281
    - path: reports/larry_model2/rainbow.pdf
      md5: 11196151ddf0d5444d6ba2945592c0bb
      size: 68071944
    - path: reports/larry_model2/rainbow.pdf.png
      md5: c47beefa95ad047a1bd3d5c18f2267e4
      size: 2008683
    - path: reports/larry_model2/shared_time.pdf
      md5: 4bffa59ebd1a4d49ad8feef83e99c5b4
      size: 227427
    - path: reports/larry_model2/vector_field.pdf
      md5: 1506f14353a0faa8e6771263faf2a86b
      size: 390533
    - path: reports/larry_model2/vector_field.pdf.png
      md5: 6739788ae2faa1dfdfd4ba8be5ad0cff
      size: 751219
    - path: reports/larry_model2/volcano.pdf
      md5: f2b48604464f904bebc953d945709007
      size: 35784
    - path: reports/larry_model2/volcano.pdf.png
      md5: 3210ebf81368790242ec5a00145f1224
      size: 378512
  figure3:
    cmd: python fig3/figure.py
    deps:
    - path: fig3/figure.py
      md5: 02a482ff407064578261b98e80dd4092
      size: 19861
    - path: models/larry_model2/pyrovelocity.pkl.zst
      md5: 07aabc2f0e592483cb3268ca1bf73675
      size: 1368569189
    - path: models/larry_model2/trained.h5ad
      md5: 3077156894a95741f88ebb0c3eedad02
      size: 6320835070
    - path: models/larry_mono_model2/pyrovelocity.pkl.zst
      md5: 34d8665530998c09c777d2fa626fb5b8
      size: 29734744
    - path: models/larry_mono_model2/trained.h5ad
      md5: e4be131edbd5eccd10ec89ca85278374
      size: 128091984
    - path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
      md5: 37b5f641e6470f3bb45712c6ffa313d5
      size: 66381699
    - path: models/larry_multilineage_model2/trained.h5ad
      md5: 324c410d940e5b11d29f02566d51c12a
      size: 334119477
    - path: models/larry_neu_model2/pyrovelocity.pkl.zst
      md5: 1f8707241085692cc00a16bc61bc50c1
      size: 25862424
    - path: models/larry_neu_model2/trained.h5ad
      md5: 4dd1e6d0046128f15724f5724b16dc59
      size: 105880284
    params:
      config.yaml:
        reports.figure3:
          tag: fig3
          path: reports/fig3
          figure3: reports/fig3/figure3.pdf
    outs:
    - path: reports/fig3/figure3.pdf
      md5: ab03951d0acc88bbd1dd831ed51d5a7a
      size: 5704383
    - path: reports/fig3/figure3.pdf.png
      md5: b01f97ddd758c3459942b898af0eef99
      size: 3365609
  summarize@larry_mono_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[larry_mono_model2]
    deps:
    - path: models/larry_mono_model2/pyrovelocity.pkl.zst
      md5: 34d8665530998c09c777d2fa626fb5b8
      size: 29734744
    - path: models/larry_mono_model2/trained.h5ad
      md5: e4be131edbd5eccd10ec89ca85278374
      size: 128091984
    - path: summarize.py
      md5: 66d88b3802c50d56ce263008385a60b1
      size: 39519
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.larry_mono_model2:
          path: reports/larry_mono_model2
          trained_data_path: models/larry_mono_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_mono_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/larry_mono_model2_dataframe.pkl.zst
          shared_time_plot: reports/larry_mono_model2/shared_time.pdf
          volcano_plot: reports/larry_mono_model2/volcano.pdf
          rainbow_plot: reports/larry_mono_model2/rainbow.pdf
          uncertainty_param_plot: reports/larry_mono_model2/param_uncertainties.pdf
          vector_field_plot: reports/larry_mono_model2/vector_field.pdf
          posterior_phase_portraits: reports/larry_mono_model2/posterior_phase_portraits
          t0_selection: reports/larry_mono_model2/t0_selection.tif
          biomarker_selection_plot: reports/larry_mono_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/larry_mono_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/larry_mono_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/larry_mono_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/larry_mono_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/larry_mono_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/larry_mono_model2_dataframe.pkl.zst
      md5: 06b0ac66e354b50d107a07112925fdc0
      size: 2980125
    - path: reports/larry_mono_model2/clusters_violin_lin.pdf
      md5: 9f4f9bc167532a3c6116cf1638d2e745
      size: 60275
    - path: reports/larry_mono_model2/clusters_violin_lin.pdf.png
      md5: 100e30dc2a608ae0c48386c2285e1b43
      size: 1621617
    - path: reports/larry_mono_model2/clusters_violin_log.pdf
      md5: d566a84a79782ec50fae66f6046f9e89
      size: 60122
    - path: reports/larry_mono_model2/clusters_violin_log.pdf.png
      md5: 823b07c9315da00ffbacfb1ffde03062
      size: 1764526
    - path: reports/larry_mono_model2/fig2_part1_plot.pdf
      md5: 6c69f3e6e376336ead2808b1fb36cd41
      size: 197512
    - path: reports/larry_mono_model2/fig2_part1_plot.pdf.png
      md5: f6f1cc45c8dbd3e22243d425086a5877
      size: 333812
    - path: reports/larry_mono_model2/fig2_part2_plot.pdf
      md5: ecc0fe5bb4fe905d86ebca58b443f926
      size: 448055
    - path: reports/larry_mono_model2/fig2_part2_plot.pdf.png
      md5: 3b9af76030c103f03dd93e243acb36b5
      size: 476479
    - path: reports/larry_mono_model2/param_uncertainties.pdf
      md5: fea70b20aef669a01f4b9df83d17e1df
      size: 141091
    - path: reports/larry_mono_model2/param_uncertainties.pdf.png
      md5: 2f62b369321b968933c552d297cb8586
      size: 967959
    - path: reports/larry_mono_model2/rainbow.pdf
      md5: 6109862c651bad58d16ca44734d99838
      size: 1872796
    - path: reports/larry_mono_model2/rainbow.pdf.png
      md5: a22ad72da0401b86db6b13666a0070e4
      size: 1329937
    - path: reports/larry_mono_model2/shared_time.pdf
      md5: 6dda72ff4111499c68bbcb9f723d86b9
      size: 142527
    - path: reports/larry_mono_model2/vector_field.pdf
      md5: 3881a9c20362b18c60fcffe5558000dd
      size: 161333
    - path: reports/larry_mono_model2/vector_field.pdf.png
      md5: 17422e5d42be2afd1aaa1e6685119e3f
      size: 344948
    - path: reports/larry_mono_model2/volcano.pdf
      md5: ba08f901e21e0a23f4b6ac43fbe1554b
      size: 36936
    - path: reports/larry_mono_model2/volcano.pdf.png
      md5: 0e509cb818e52d627066617acd42fa6c
      size: 354645
  summarize@larry_neu_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[larry_neu_model2]
    deps:
    - path: models/larry_neu_model2/pyrovelocity.pkl.zst
      md5: 1f8707241085692cc00a16bc61bc50c1
      size: 25862424
    - path: models/larry_neu_model2/trained.h5ad
      md5: 4dd1e6d0046128f15724f5724b16dc59
      size: 105880284
    - path: summarize.py
      md5: af3ae5c1ad5dad0a19d971dc518542e3
      size: 42041
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.larry_neu_model2:
          path: reports/larry_neu_model2
          trained_data_path: models/larry_neu_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_neu_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/larry_neu_model2_dataframe.pkl.zst
          shared_time_plot: reports/larry_neu_model2/shared_time.pdf
          volcano_plot: reports/larry_neu_model2/volcano.pdf
          rainbow_plot: reports/larry_neu_model2/rainbow.pdf
          uncertainty_param_plot: reports/larry_neu_model2/param_uncertainties.pdf
          vector_field_plot: reports/larry_neu_model2/vector_field.pdf
          posterior_phase_portraits: reports/larry_neu_model2/posterior_phase_portraits
          t0_selection: reports/larry_neu_model2/t0_selection.tif
          biomarker_selection_plot: reports/larry_neu_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/larry_neu_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/larry_neu_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/larry_neu_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/larry_neu_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/larry_neu_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/larry_neu_model2_dataframe.pkl.zst
      md5: 383c5d566f148132390616669b94fba9
      size: 2462799
    - path: reports/larry_neu_model2/clusters_violin_lin.pdf
      md5: 2a235fdf4771a5afe4affefb945758ad
      size: 83596
    - path: reports/larry_neu_model2/clusters_violin_lin.pdf.png
      md5: 2959c8d3fc0a68b5f7945685a0769494
      size: 1508917
    - path: reports/larry_neu_model2/clusters_violin_log.pdf
      md5: 5c11346740113ac97401c4a5b8ae56ff
      size: 82815
    - path: reports/larry_neu_model2/clusters_violin_log.pdf.png
      md5: 785c12a78752f7df3cf0e643b069e13f
      size: 1612019
    - path: reports/larry_neu_model2/fig2_part1_plot.pdf
      md5: cd89c8a12cf81791edd7de4afe125c77
      size: 184328
    - path: reports/larry_neu_model2/fig2_part1_plot.pdf.png
      md5: 9ca4a18fabb83ecb370f1f33f1e98fe7
      size: 324976
    - path: reports/larry_neu_model2/fig2_part2_plot.pdf
      md5: 3b534d7d79bde256109f4d56a1e83a1e
      size: 399380
    - path: reports/larry_neu_model2/fig2_part2_plot.pdf.png
      md5: 2dc79f1fa3ac1ba7ce87b69cfbac29dc
      size: 497562
    - path: reports/larry_neu_model2/param_uncertainties.pdf
      md5: cc629a00b8be9d5db960825e92c57804
      size: 142535
    - path: reports/larry_neu_model2/param_uncertainties.pdf.png
      md5: 723946befad3af7d61ea6776b23df9ec
      size: 1056151
    - path: reports/larry_neu_model2/rainbow.pdf
      md5: cfff02d6f583ea1a8db8dc3af442c38c
      size: 1679184
    - path: reports/larry_neu_model2/rainbow.pdf.png
      md5: 00b8b8a41257e70d90a0bd82c0a4cb81
      size: 1460139
    - path: reports/larry_neu_model2/shared_time.pdf
      md5: a147d95d616dc2fb0806a8c871d2aebf
      size: 102860
    - path: reports/larry_neu_model2/vector_field.pdf
      md5: 768d13628d4fb4192b3e955ee112c2eb
      size: 138286
    - path: reports/larry_neu_model2/vector_field.pdf.png
      md5: ebbc2a97fc68c6b874f8394874b2b19a
      size: 325313
    - path: reports/larry_neu_model2/volcano.pdf
      md5: 078a3e37ef2ad0ef749ac8210f47168c
      size: 37232
    - path: reports/larry_neu_model2/volcano.pdf.png
      md5: 0fbc1da72810af8c70398a50435e2f4c
      size: 347688
  summarize@larry_multilineage_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[larry_multilineage_model2]
    deps:
    - path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
      md5: 37b5f641e6470f3bb45712c6ffa313d5
      size: 66381699
    - path: models/larry_multilineage_model2/trained.h5ad
      md5: 324c410d940e5b11d29f02566d51c12a
      size: 334119477
    - path: summarize.py
      md5: af3ae5c1ad5dad0a19d971dc518542e3
      size: 42041
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.larry_multilineage_model2:
          path: reports/larry_multilineage_model2
          trained_data_path: models/larry_multilineage_model2/trained.h5ad
          pyrovelocity_data_path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/larry_multilineage_model2_dataframe.pkl.zst
          shared_time_plot: reports/larry_multilineage_model2/shared_time.pdf
          volcano_plot: reports/larry_multilineage_model2/volcano.pdf
          rainbow_plot: reports/larry_multilineage_model2/rainbow.pdf
          uncertainty_param_plot: reports/larry_multilineage_model2/param_uncertainties.pdf
          vector_field_plot: reports/larry_multilineage_model2/vector_field.pdf
          posterior_phase_portraits: reports/larry_multilineage_model2/posterior_phase_portraits
          t0_selection: reports/larry_multilineage_model2/t0_selection.tif
          biomarker_selection_plot: reports/larry_multilineage_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/larry_multilineage_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/larry_multilineage_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/larry_multilineage_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/larry_multilineage_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/larry_multilineage_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/larry_multilineage_model2_dataframe.pkl.zst
      md5: 1efb5851d7c9f7038989d12564ddc48b
      size: 7714181
    - path: reports/larry_multilineage_model2/clusters_violin_lin.pdf
      md5: f31edb9ee590596629d327e6870047a3
      size: 84395
    - path: reports/larry_multilineage_model2/clusters_violin_lin.pdf.png
      md5: cb60ac99eefa62b7cbc745c8c807b2c5
      size: 1459255
    - path: reports/larry_multilineage_model2/clusters_violin_log.pdf
      md5: 2dabd7f983f7b37f682b8fd82766ea0d
      size: 84339
    - path: reports/larry_multilineage_model2/clusters_violin_log.pdf.png
      md5: 4873bb44a85c03173a1ffe2b11f022aa
      size: 1555454
    - path: reports/larry_multilineage_model2/fig2_part1_plot.pdf
      md5: ed7206b442ebb41c7dae7b7a983b4230
      size: 289657
    - path: reports/larry_multilineage_model2/fig2_part1_plot.pdf.png
      md5: b2295ed0ceaddb79ae230c6c41865f53
      size: 441102
    - path: reports/larry_multilineage_model2/fig2_part2_plot.pdf
      md5: d5c72d184823d27bfb66103f54b68ad7
      size: 763051
    - path: reports/larry_multilineage_model2/fig2_part2_plot.pdf.png
      md5: bcef4cf00801d132893ea838864b6aa7
      size: 604761
    - path: reports/larry_multilineage_model2/param_uncertainties.pdf
      md5: 2fee25642673f99f635378b85a3da158
      size: 140878
    - path: reports/larry_multilineage_model2/param_uncertainties.pdf.png
      md5: 11864fd58425b363b90cf0055e691034
      size: 1032216
    - path: reports/larry_multilineage_model2/rainbow.pdf
      md5: eab30bb3a066d4b897a4e636f25375da
      size: 3334285
    - path: reports/larry_multilineage_model2/rainbow.pdf.png
      md5: 8a23b764db38829e4851f63e40147c92
      size: 1645854
    - path: reports/larry_multilineage_model2/shared_time.pdf
      md5: 8b7c6eb7d32e3c2a9f27fca2998d1f27
      size: 140815
    - path: reports/larry_multilineage_model2/vector_field.pdf
      md5: d80fda8efd47d3bdf02adf8f01a6d50c
      size: 207973
    - path: reports/larry_multilineage_model2/vector_field.pdf.png
      md5: 917b84813baf08df1c28dd599127cc18
      size: 481176
    - path: reports/larry_multilineage_model2/volcano.pdf
      md5: 991414cfff78989e10861b5f1b04a76f
      size: 36996
    - path: reports/larry_multilineage_model2/volcano.pdf.png
      md5: 74e31a018fc069f65a5317a4cdf4dc86
      size: 358512
  suppfig4:
    cmd: python suppfig4/figure.py
    deps:
    - path: models/larry_model2/pyrovelocity.pkl.zst
      md5: 07aabc2f0e592483cb3268ca1bf73675
      size: 1368569189
    - path: models/larry_model2/trained.h5ad
      md5: 3077156894a95741f88ebb0c3eedad02
      size: 6320835070
    - path: models/larry_mono_model2/pyrovelocity.pkl.zst
      md5: 34d8665530998c09c777d2fa626fb5b8
      size: 29734744
    - path: models/larry_mono_model2/trained.h5ad
      md5: e4be131edbd5eccd10ec89ca85278374
      size: 128091984
    - path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
      md5: 37b5f641e6470f3bb45712c6ffa313d5
      size: 66381699
    - path: models/larry_multilineage_model2/trained.h5ad
      md5: 324c410d940e5b11d29f02566d51c12a
      size: 334119477
    - path: models/larry_neu_model2/pyrovelocity.pkl.zst
      md5: 1f8707241085692cc00a16bc61bc50c1
      size: 25862424
    - path: models/larry_neu_model2/trained.h5ad
      md5: 4dd1e6d0046128f15724f5724b16dc59
      size: 105880284
    - path: suppfig4/figure.py
      md5: 2a5e15d0cf647d394c0801781402a477
      size: 10742
    params:
      config.yaml:
        reports.suppfig4:
          tag: suppfig4
          path: reports/suppfig4
          suppfig4_pdf: reports/suppfig4/suppfig4.pdf
          suppfig4_png: reports/suppfig4/suppfig4.pdf.png
    outs:
    - path: reports/suppfig4/suppfig4.pdf
      md5: 93ac2f30b089035af4197caade04c76a
      size: 1932972
    - path: reports/suppfig4/suppfig4.pdf.png
      md5: 11799f5a3dcd585546fae58da182f864
      size: 526943
  figureS2:
    cmd: /usr/bin/time -v python figS2/figure.py train_models=[pbmc5k_model2,pbmc10k_model2_coarse,pancreas_model2,pbmc10k_model2,pbmc68k_model2,pons_model2,larry_model2,larry_neu_model2,larry_mono_model2,larry_tips_model2]
    deps:
    - path: figS2/figure.py
      md5: 9563ca87399029d6174fcd94ac2756fb
      size: 14829
    - path: models/larry_model2/pyrovelocity.pkl.zst
      md5: 07aabc2f0e592483cb3268ca1bf73675
      size: 1368569189
    - path: models/larry_mono_model2/pyrovelocity.pkl.zst
      md5: 34d8665530998c09c777d2fa626fb5b8
      size: 29734744
    - path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
      md5: 37b5f641e6470f3bb45712c6ffa313d5
      size: 66381699
    - path: models/larry_neu_model2/pyrovelocity.pkl.zst
      md5: 1f8707241085692cc00a16bc61bc50c1
      size: 25862424
    - path: models/larry_tips_model2/pyrovelocity.pkl.zst
      md5: d9c7b2b6d2039f7d6b6244129cf5e871
      size: 515003260
    - path: models/pancreas_model2/pyrovelocity.pkl.zst
      md5: 51ea60ea757bf317cad28b39484e088f
      size: 105519424
    - path: models/pbmc10k_model2/pyrovelocity.pkl.zst
      md5: bd9a02a9b0910eac2a423f79cb2b12bb
      size: 330037760
    - path: models/pbmc5k_model2/pyrovelocity.pkl.zst
      md5: 01ab7a8c3168db1a2cb86a0498c5c9d3
      size: 113751597
    - path: models/pbmc68k_model2/pyrovelocity.pkl.zst
      md5: b3ae8fc391dda9f35cdb36056fac7223
      size: 679013346
    - path: models/pons_model2/pyrovelocity.pkl.zst
      md5: 12705b7d63bd89eb56b30532ab883f1d
      size: 175509376
    params:
      config.yaml:
        reports.figureS2:
          tag: figS2
          path: reports/figS2
          rayleigh_classifier_plot: reports/figS2/figS2_rayleigh_classifier.pdf
          distance_time_correlation_plot: reports/figS2/figS2_distance_time_correlation.pdf
    outs:
    - path: reports/figS2/figS2_distance_time_correlation.pdf
      md5: ab92e242240e877922c12e9f022debd1
      size: 30308
    - path: reports/figS2/figS2_distance_time_correlation.pdf.png
      md5: 5429d0cf3bb45fa6e71b5f1d70955749
      size: 120429
    - path: reports/figS2/figS2_rayleigh_classifier.pdf
      md5: 672f4c07fb0fb0fd94b40cb143015f57
      size: 16248
    - path: reports/figS2/figS2_rayleigh_classifier.pdf.png
      md5: 27a7c025385e3c849e43d41902e45684
      size: 257352
  figureS4:
    cmd: python figS4/figure.py
    deps:
    - path: figS4/figure.py
      md5: 24802f80a4034443fd29a65a012eb69c
      size: 11021
    - path: models/larry_model2/pyrovelocity.pkl.zst
      md5: 07aabc2f0e592483cb3268ca1bf73675
      size: 1368569189
    - path: models/larry_model2/trained.h5ad
      md5: 3077156894a95741f88ebb0c3eedad02
      size: 6320835070
    - path: models/larry_mono_model2/pyrovelocity.pkl.zst
      md5: 34d8665530998c09c777d2fa626fb5b8
      size: 29734744
    - path: models/larry_mono_model2/trained.h5ad
      md5: e4be131edbd5eccd10ec89ca85278374
      size: 128091984
    - path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
      md5: 37b5f641e6470f3bb45712c6ffa313d5
      size: 66381699
    - path: models/larry_multilineage_model2/trained.h5ad
      md5: 324c410d940e5b11d29f02566d51c12a
      size: 334119477
    - path: models/larry_neu_model2/pyrovelocity.pkl.zst
      md5: 1f8707241085692cc00a16bc61bc50c1
      size: 25862424
    - path: models/larry_neu_model2/trained.h5ad
      md5: 4dd1e6d0046128f15724f5724b16dc59
      size: 105880284
    params:
      config.yaml:
        reports.figureS4:
          tag: figS4
          path: reports/figS4
          figureS4: reports/figS4/figS4.pdf
    outs:
    - path: reports/figS4/figS4.pdf
      md5: 1c905b9c029a3ae408316ebb0e5eb00e
      size: 1932972
    - path: reports/figS4/figS4.pdf.png
      md5: 11799f5a3dcd585546fae58da182f864
      size: 526943
  figureS2_extras:
    cmd: python figS2/figure_extras.py train_models=[pbmc68k_model2]
    deps:
    - path: figS2/figure_extras.py
      md5: 20283ba388e23581a16093e1d68297e3
      size: 11273
    - path: models/pbmc68k_model2/pyrovelocity.pkl.zst
      md5: b3ae8fc391dda9f35cdb36056fac7223
      size: 679013346
    params:
      config.yaml:
        reports.figureS2_extras:
          tag: figS2
          path: reports/figS2
          subset_genes_plot: reports/figS2/figS2_subset3g_pbmc68k.pdf
          subset_pkl: reports/figS2/figS2_subset3g_pbmc68k.pkl
    outs:
    - path: reports/figS2/figS2_subset3g_pbmc68k.pdf
      md5: c1eadf935916329f02f949facfc7eb4b
      size: 5605317
    - path: reports/figS2/figS2_subset3g_pbmc68k.pdf.png
      md5: 0e79aab1beb3819b1f7fa12824c5998b
      size: 1480115
  figureS2_extra_2:
    cmd: python figS2/figure_extra_2.py train_models=[pancreas_model2,pbmc10k_model2,pbmc68k_model2,pons_model2,larry_model2,larry_neu_model2,larry_mono_model2,larry_multilineage_model2,larry_tips_model2]
    deps:
    - path: figS2/figure_extra_2.py
      md5: ed35636cfcef647467f0be5f58ac1fee
      size: 5626
    - path: models/larry_model2/pyrovelocity.pkl.zst
      md5: 07aabc2f0e592483cb3268ca1bf73675
      size: 1368569189
    - path: models/larry_mono_model2/pyrovelocity.pkl.zst
      md5: 34d8665530998c09c777d2fa626fb5b8
      size: 29734744
    - path: models/larry_multilineage_model2/pyrovelocity.pkl.zst
      md5: 37b5f641e6470f3bb45712c6ffa313d5
      size: 66381699
    - path: models/larry_neu_model2/pyrovelocity.pkl.zst
      md5: 1f8707241085692cc00a16bc61bc50c1
      size: 25862424
    - path: models/larry_tips_model2/pyrovelocity.pkl.zst
      md5: d9c7b2b6d2039f7d6b6244129cf5e871
      size: 515003260
    - path: models/pancreas_model2/pyrovelocity.pkl.zst
      md5: 51ea60ea757bf317cad28b39484e088f
      size: 105519424
    - path: models/pbmc10k_model2/pyrovelocity.pkl.zst
      md5: bd9a02a9b0910eac2a423f79cb2b12bb
      size: 330037760
    - path: models/pbmc68k_model2/pyrovelocity.pkl.zst
      md5: b3ae8fc391dda9f35cdb36056fac7223
      size: 679013346
    - path: models/pons_model2/pyrovelocity.pkl.zst
      md5: 12705b7d63bd89eb56b30532ab883f1d
      size: 175509376
    params:
      config.yaml:
        reports.figureS2_extra_2:
          tag: figS2
          path: reports/figS2
          mean_length_vs_uncertain: reports/figS2/figS2_mean_length_vs_uncertain.pdf
    outs:
    - path: reports/figS2/figS2_mean_length_vs_uncertain.pdf
      md5: 474492712eb473c321a54ba732033bb3
      size: 5895896
    - path: reports/figS2/figS2_mean_length_vs_uncertain.pdf.png
      md5: 54390a076d9fee2af48687d08683dde2
      size: 2783281
  data_download@bonemarrow:
    cmd: python data_download.py process_data=[bonemarrow]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.bonemarrow:
          source: scvelo
          data_file: human_cd34_bone_marrow.h5ad
          dl_root: data/BoneMarrow
          dl_path: data/BoneMarrow/human_cd34_bone_marrow.h5ad
          rel_path: data/external/human_cd34_bone_marrow.h5ad
          url: https://ndownloader.figshare.com/files/27686835
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/bonemarrow_processed.h5ad
            thresh_histogram_path: data/processed/bonemarrow_thresh_histogram.pdf
    outs:
    - path: data/external/human_cd34_bone_marrow.h5ad
      md5: 0e176a725d9a3b81ea95365e3e2ba1ae
      size: 169575532
  preprocess@bonemarrow:
    cmd: python preprocess.py process_data=[bonemarrow]
    deps:
    - path: data/external/human_cd34_bone_marrow.h5ad
      md5: 0e176a725d9a3b81ea95365e3e2ba1ae
      size: 169575532
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.bonemarrow:
          source: scvelo
          data_file: human_cd34_bone_marrow.h5ad
          dl_root: data/BoneMarrow
          dl_path: data/BoneMarrow/human_cd34_bone_marrow.h5ad
          rel_path: data/external/human_cd34_bone_marrow.h5ad
          url: https://ndownloader.figshare.com/files/27686835
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/bonemarrow_processed.h5ad
            thresh_histogram_path: data/processed/bonemarrow_thresh_histogram.pdf
    outs:
    - path: data/processed/bonemarrow_processed.h5ad
      md5: e8e881920c5fdc7fdfe7c8eed676774b
      size: 651900368
    - path: data/processed/bonemarrow_thresh_histogram.pdf
      md5: d52fbfa1af2f93d652be29692e0651fd
      size: 23574
    - path: data/processed/bonemarrow_thresh_histogram.pdf.png
      md5: a78d13936ffeb58a1734439fc1d5e48d
      size: 110691
  train@bonemarrow_model2:
    cmd: /usr/bin/time -v python train.py train_models=[bonemarrow_model2]
    deps:
    - path: data/processed/bonemarrow_processed.h5ad
      md5: e8e881920c5fdc7fdfe7c8eed676774b
      size: 651900368
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.bonemarrow_model2:
          path: models/bonemarrow_model2
          model_path: models/bonemarrow_model2/model
          input_data_path: data/processed/bonemarrow_processed.h5ad
          trained_data_path: models/bonemarrow_model2/trained.h5ad
          pyrovelocity_data_path: models/bonemarrow_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/bonemarrow_model2/posterior_samples.pkl.zst
          metrics_path: models/bonemarrow_model2/metrics.json
          run_info_path: models/bonemarrow_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: clusters
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/bonemarrow_model2/loss_plot.png
    outs:
    - path: models/bonemarrow_model2/loss_plot.png
      md5: abc038d6c66ee944df1ca61d26fccf26
      size: 11213
    - path: models/bonemarrow_model2/model
      md5: 8520f73c5216a28351d1bf34c3bed3d1.dir
      size: 1884213
      nfiles: 2
    - path: models/bonemarrow_model2/posterior_samples.pkl.zst
      md5: 8b5e05a2017afd651d08a000b37b16da
      size: 2518920834
    - path: models/bonemarrow_model2/run_info.json
      md5: db9c1d357e5bbbd9e3f86e431e1e9bc6
      size: 457
  postprocess@bonemarrow_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[bonemarrow_model2]
    deps:
    - path: data/processed/bonemarrow_processed.h5ad
      md5: e8e881920c5fdc7fdfe7c8eed676774b
      size: 651900368
    - path: models/bonemarrow_model2/model
      md5: 8520f73c5216a28351d1bf34c3bed3d1.dir
      size: 1884213
      nfiles: 2
    - path: models/bonemarrow_model2/posterior_samples.pkl.zst
      md5: 8b5e05a2017afd651d08a000b37b16da
      size: 2518920834
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.bonemarrow_model2:
          path: models/bonemarrow_model2
          model_path: models/bonemarrow_model2/model
          input_data_path: data/processed/bonemarrow_processed.h5ad
          trained_data_path: models/bonemarrow_model2/trained.h5ad
          pyrovelocity_data_path: models/bonemarrow_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/bonemarrow_model2/posterior_samples.pkl.zst
          metrics_path: models/bonemarrow_model2/metrics.json
          run_info_path: models/bonemarrow_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: clusters
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/bonemarrow_model2/loss_plot.png
    outs:
    - path: models/bonemarrow_model2/metrics.json
      md5: a6337d9d768bdc6ec9ed5fafd33dd56c
      size: 98
    - path: models/bonemarrow_model2/pyrovelocity.pkl.zst
      md5: cd0a08363b530eb4e66451b65d87662f
      size: 162542506
    - path: models/bonemarrow_model2/trained.h5ad
      md5: 5c0d598b6ce53d54015e4abaf4954fb1
      size: 760341824
  summarize@bonemarrow_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[bonemarrow_model2]
    deps:
    - path: models/bonemarrow_model2/pyrovelocity.pkl.zst
      md5: cd0a08363b530eb4e66451b65d87662f
      size: 162542506
    - path: models/bonemarrow_model2/trained.h5ad
      md5: 5c0d598b6ce53d54015e4abaf4954fb1
      size: 760341824
    - path: summarize.py
      md5: af3ae5c1ad5dad0a19d971dc518542e3
      size: 42041
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.bonemarrow_model2:
          path: reports/bonemarrow_model2
          trained_data_path: models/bonemarrow_model2/trained.h5ad
          pyrovelocity_data_path: models/bonemarrow_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/bonemarrow_model2_dataframe.pkl.zst
          shared_time_plot: reports/bonemarrow_model2/shared_time.pdf
          volcano_plot: reports/bonemarrow_model2/volcano.pdf
          rainbow_plot: reports/bonemarrow_model2/rainbow.pdf
          uncertainty_param_plot: reports/bonemarrow_model2/param_uncertainties.pdf
          vector_field_plot: reports/bonemarrow_model2/vector_field.pdf
          posterior_phase_portraits: reports/bonemarrow_model2/posterior_phase_portraits
          t0_selection: reports/bonemarrow_model2/t0_selection.tif
          biomarker_selection_plot: reports/bonemarrow_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/bonemarrow_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/bonemarrow_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/bonemarrow_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/bonemarrow_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/bonemarrow_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/bonemarrow_model2_dataframe.pkl.zst
      md5: ab00ad34356484260492e66b2ad8f912
      size: 17615324
    - path: reports/bonemarrow_model2/clusters_violin_lin.pdf
      md5: d9045a5bbdce693ed238e47379c6906f
      size: 150717
    - path: reports/bonemarrow_model2/clusters_violin_lin.pdf.png
      md5: 6fd43e195a753036b028a38813e32bef
      size: 2316012
    - path: reports/bonemarrow_model2/clusters_violin_log.pdf
      md5: c41264ec200a04a0267d37a60c8bcce8
      size: 151467
    - path: reports/bonemarrow_model2/clusters_violin_log.pdf.png
      md5: a846cc0d014b0563216e15eab71dafd7
      size: 2485038
    - path: reports/bonemarrow_model2/fig2_part1_plot.pdf
      md5: 6055911c8ca265c2bb09c606b1111e25
      size: 486075
    - path: reports/bonemarrow_model2/fig2_part1_plot.pdf.png
      md5: fa9af7dd5356dc410c07c7c8b09820a4
      size: 418493
    - path: reports/bonemarrow_model2/fig2_part2_plot.pdf
      md5: 6d704cedcec1d5ca0e2af879148e136e
      size: 1931458
    - path: reports/bonemarrow_model2/fig2_part2_plot.pdf.png
      md5: 682373901caf02aba63df837ce79f68a
      size: 511903
    - path: reports/bonemarrow_model2/param_uncertainties.pdf
      md5: 02932f1b7082629cbe458e033f9f1ce3
      size: 138685
    - path: reports/bonemarrow_model2/param_uncertainties.pdf.png
      md5: 361fca5e5f00f0ccaf95c4005266cc56
      size: 809961
    - path: reports/bonemarrow_model2/rainbow.pdf
      md5: 7f457c6441cdf9f54e595a7466ef2cba
      size: 8157744
    - path: reports/bonemarrow_model2/rainbow.pdf.png
      md5: 98ad0cd2b66713d37d26b4258949f171
      size: 1112702
    - path: reports/bonemarrow_model2/shared_time.pdf
      md5: 481bd4148f5b7ef1fa700bb4ffde7cbe
      size: 168622
    - path: reports/bonemarrow_model2/vector_field.pdf
      md5: 8deebe6b8870b7d049cd1d34ed1b6b7b
      size: 320629
    - path: reports/bonemarrow_model2/vector_field.pdf.png
      md5: d4511e2cf1ff27bff8d9b48348438aad
      size: 463204
    - path: reports/bonemarrow_model2/volcano.pdf
      md5: a41385390bc2922bf2c4beaf24e264a4
      size: 40856
    - path: reports/bonemarrow_model2/volcano.pdf.png
      md5: 860edac120b7ab2fb4be67aa1bbb4e38
      size: 342473
  data_download@pbmc5k:
    cmd: python data_download.py process_data=[pbmc5k]
    deps:
    - path: data_download.py
      md5: 35532543a7cbebeb209b9cc4cf2af144
      size: 3150
    params:
      config.yaml:
        data_sets.pbmc5k:
          source: pyrovelocity
          data_file: pbmc5k.h5ad
          dl_root: data/external
          dl_path: data/external/pbmc5k.h5ad
          rel_path: data/external/pbmc5k.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/pbmc5k.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/pbmc5k_processed.h5ad
            thresh_histogram_path: data/processed/pbmc5k_thresh_histogram.pdf
    outs:
    - path: data/external/pbmc5k.h5ad
      md5: ab9b4aa640c5978dcff7cbea23f0fb3d
      size: 282506350
  preprocess@pbmc5k:
    cmd: python preprocess.py process_data=[pbmc5k]
    deps:
    - path: data/external/pbmc5k.h5ad
      md5: ab9b4aa640c5978dcff7cbea23f0fb3d
      size: 282506350
    - path: preprocess.py
      md5: ccbe8f3aa9ca398e232c69b48a041c4d
      size: 2744
    params:
      config.yaml:
        data_sets.pbmc5k:
          source: pyrovelocity
          data_file: pbmc5k.h5ad
          dl_root: data/external
          dl_path: data/external/pbmc5k.h5ad
          rel_path: data/external/pbmc5k.h5ad
          url: https://storage.googleapis.com/pyrovelocity/data/pbmc5k.h5ad
          derived:
            process_method: load_data
            process_args:
              count_thres: 0
            rel_path: data/processed/pbmc5k_processed.h5ad
            thresh_histogram_path: data/processed/pbmc5k_thresh_histogram.pdf
    outs:
    - path: data/processed/pbmc5k_processed.h5ad
      md5: a09eeda00f2f46f2e25fdc3cd72fd411
      size: 515978957
    - path: data/processed/pbmc5k_thresh_histogram.pdf
      md5: 3cb1510f8b8243b9f14aaee41282295e
      size: 28508
    - path: data/processed/pbmc5k_thresh_histogram.pdf.png
      md5: a2b23641904e7f91ca8229c7a5c189be
      size: 142848
  train@pbmc5k_model2:
    cmd: /usr/bin/time -v python train.py train_models=[pbmc5k_model2]
    deps:
    - path: data/processed/pbmc5k_processed.h5ad
      md5: a09eeda00f2f46f2e25fdc3cd72fd411
      size: 515978957
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pbmc5k_model2:
          path: models/pbmc5k_model2
          model_path: models/pbmc5k_model2/model
          input_data_path: data/processed/pbmc5k_processed.h5ad
          trained_data_path: models/pbmc5k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc5k_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pbmc5k_model2/posterior_samples.pkl.zst
          metrics_path: models/pbmc5k_model2/metrics.json
          run_info_path: models/pbmc5k_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 2
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: celltype
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pbmc5k_model2/loss_plot.png
    outs:
    - path: models/pbmc5k_model2/loss_plot.png
      md5: bcac0f2bfb2aa389658ef7f20d277316
      size: 11553
    - path: models/pbmc5k_model2/model
      md5: e5e9e7a8258a817af2ff312a1c299d39.dir
      size: 1799157
      nfiles: 2
    - path: models/pbmc5k_model2/posterior_samples.pkl.zst
      md5: 7157f59f21091eda65af7df3ad996619
      size: 1671446266
    - path: models/pbmc5k_model2/run_info.json
      md5: 13dd1db03db61ac3392e4c1bd8ba70b6
      size: 453
  postprocess@pbmc5k_model2:
    cmd: /usr/bin/time -v python postprocess.py train_models=[pbmc5k_model2]
    deps:
    - path: data/processed/pbmc5k_processed.h5ad
      md5: a09eeda00f2f46f2e25fdc3cd72fd411
      size: 515978957
    - path: models/pbmc5k_model2/model
      md5: e5e9e7a8258a817af2ff312a1c299d39.dir
      size: 1799157
      nfiles: 2
    - path: models/pbmc5k_model2/posterior_samples.pkl.zst
      md5: 7157f59f21091eda65af7df3ad996619
      size: 1671446266
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pbmc5k_model2:
          path: models/pbmc5k_model2
          model_path: models/pbmc5k_model2/model
          input_data_path: data/processed/pbmc5k_processed.h5ad
          trained_data_path: models/pbmc5k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc5k_model2/pyrovelocity.pkl.zst
          posterior_samples_path: models/pbmc5k_model2/posterior_samples.pkl.zst
          metrics_path: models/pbmc5k_model2/metrics.json
          run_info_path: models/pbmc5k_model2/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 2
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: celltype
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: true
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pbmc5k_model2/loss_plot.png
    outs:
    - path: models/pbmc5k_model2/metrics.json
      md5: e198e6ab2400d70070fee4e184b2495f
      size: 99
    - path: models/pbmc5k_model2/pyrovelocity.pkl.zst
      md5: 01ab7a8c3168db1a2cb86a0498c5c9d3
      size: 113751597
    - path: models/pbmc5k_model2/trained.h5ad
      md5: 7392ed14357bc9409ec63f1820a02b96
      size: 587927873
  summarize@pbmc5k_model2:
    cmd: /usr/bin/time -v python summarize.py train_models=[pbmc5k_model2]
    deps:
    - path: models/pbmc5k_model2/pyrovelocity.pkl.zst
      md5: 01ab7a8c3168db1a2cb86a0498c5c9d3
      size: 113751597
    - path: models/pbmc5k_model2/trained.h5ad
      md5: 7392ed14357bc9409ec63f1820a02b96
      size: 587927873
    - path: summarize.py
      md5: af3ae5c1ad5dad0a19d971dc518542e3
      size: 42041
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.pbmc5k_model2:
          path: reports/pbmc5k_model2
          trained_data_path: models/pbmc5k_model2/trained.h5ad
          pyrovelocity_data_path: models/pbmc5k_model2/pyrovelocity.pkl.zst
          dataframe_path: data/processed/pbmc5k_model2_dataframe.pkl.zst
          shared_time_plot: reports/pbmc5k_model2/shared_time.pdf
          volcano_plot: reports/pbmc5k_model2/volcano.pdf
          rainbow_plot: reports/pbmc5k_model2/rainbow.pdf
          uncertainty_param_plot: reports/pbmc5k_model2/param_uncertainties.pdf
          vector_field_plot: reports/pbmc5k_model2/vector_field.pdf
          posterior_phase_portraits: reports/pbmc5k_model2/posterior_phase_portraits
          t0_selection: reports/pbmc5k_model2/t0_selection.tif
          biomarker_selection_plot: reports/pbmc5k_model2/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/pbmc5k_model2/markers_phaseportrait.pdf
          fig2_part1_plot: reports/pbmc5k_model2/fig2_part1_plot.pdf
          fig2_part2_plot: reports/pbmc5k_model2/fig2_part2_plot.pdf
          violin_clusters_lin: reports/pbmc5k_model2/clusters_violin_lin.pdf
          violin_clusters_log: reports/pbmc5k_model2/clusters_violin_log.pdf
    outs:
    - path: data/processed/pbmc5k_model2_dataframe.pkl.zst
      md5: 14078b803a0d70bfff0b655357081857
      size: 13338832
    - path: reports/pbmc5k_model2/clusters_violin_lin.pdf
      md5: 71bb92ad7be8430c3b1147063f567739
      size: 139290
    - path: reports/pbmc5k_model2/clusters_violin_lin.pdf.png
      md5: c4b43b9ae2f089a949524dd89fba9c7b
      size: 2275202
    - path: reports/pbmc5k_model2/clusters_violin_log.pdf
      md5: 124f009316cce2652f46564f092602c5
      size: 140082
    - path: reports/pbmc5k_model2/clusters_violin_log.pdf.png
      md5: ab47848b71f1944ee25c77c4fd9f0905
      size: 2299584
    - path: reports/pbmc5k_model2/fig2_part1_plot.pdf
      md5: 5f488e9dcdd3c5fa78c24481505dc7bc
      size: 461666
    - path: reports/pbmc5k_model2/fig2_part1_plot.pdf.png
      md5: 2e050bf87ce6d7e04f43b403d887020b
      size: 680867
    - path: reports/pbmc5k_model2/fig2_part2_plot.pdf
      md5: 3a780f9b6a5ca033f9406e3f90661b50
      size: 1290446
    - path: reports/pbmc5k_model2/fig2_part2_plot.pdf.png
      md5: 4f82d40b12facc97c4d15ec0d527aa37
      size: 699550
    - path: reports/pbmc5k_model2/param_uncertainties.pdf
      md5: 5d94f3fde0a6c17a2459867f0678fc6a
      size: 138835
    - path: reports/pbmc5k_model2/param_uncertainties.pdf.png
      md5: 9a29ce4d8bd25ba206e6314cfc3ab99b
      size: 891813
    - path: reports/pbmc5k_model2/rainbow.pdf
      md5: 4574c95a43c7758854f2e69c4cfa66e6
      size: 5349095
    - path: reports/pbmc5k_model2/rainbow.pdf.png
      md5: 2edd2ab88641b17344b3b48f92c1fe8d
      size: 1353259
    - path: reports/pbmc5k_model2/shared_time.pdf
      md5: 87ce9a96ee2f92febc269403c31afaf7
      size: 328510
    - path: reports/pbmc5k_model2/vector_field.pdf
      md5: a7748bd0c7ee926bdb438d333323b8a7
      size: 469148
    - path: reports/pbmc5k_model2/vector_field.pdf.png
      md5: e212774fb78d2642f89960d9d0dcf749
      size: 820922
    - path: reports/pbmc5k_model2/volcano.pdf
      md5: 99ddf69fb8a58b038a6c1ce8c3df7453
      size: 37846
    - path: reports/pbmc5k_model2/volcano.pdf.png
      md5: 5e46acacf3e24deeff7b2dd0c896d692
      size: 379633
  train@pancreas_model1:
    cmd: /usr/bin/time -v python train.py train_models=[pancreas_model1]
    deps:
    - path: data/processed/pancreas_processed.h5ad
      md5: 4aaf4084689b5e10c60231552502bd98
      size: 424784368
    - path: train.py
      md5: 4cf2c31c17dbb07e8de124c36735401b
      size: 6703
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pancreas_model1:
          path: models/pancreas_model1
          model_path: models/pancreas_model1/model
          input_data_path: data/processed/pancreas_processed.h5ad
          trained_data_path: models/pancreas_model1/trained.h5ad
          pyrovelocity_data_path: models/pancreas_model1/pyrovelocity.pkl.zst
          posterior_samples_path: models/pancreas_model1/posterior_samples.pkl.zst
          metrics_path: models/pancreas_model1/metrics.json
          run_info_path: models/pancreas_model1/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto_t0_constraint
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: clusters
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: false
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pancreas_model1/loss_plot.png
    outs:
    - path: models/pancreas_model1/loss_plot.png
      md5: e5f1ca863908098981d8a7f16bbcc5de
      size: 11655
    - path: models/pancreas_model1/model
      md5: a3e920a728c5d0669f3dd2a85b2e1422.dir
      size: 1207349
      nfiles: 2
    - path: models/pancreas_model1/posterior_samples.pkl.zst
      md5: eec7d67de6b6058b6ae050d1bf9f2e59
      size: 1853369765
    - path: models/pancreas_model1/run_info.json
      md5: 58191b69dadc5d55bc5684fdc614b371
      size: 462
  postprocess@pancreas_model1:
    cmd: /usr/bin/time -v python postprocess.py train_models=[pancreas_model1]
    deps:
    - path: data/processed/pancreas_processed.h5ad
      md5: 4aaf4084689b5e10c60231552502bd98
      size: 424784368
    - path: models/pancreas_model1/model
      md5: a3e920a728c5d0669f3dd2a85b2e1422.dir
      size: 1207349
      nfiles: 2
    - path: models/pancreas_model1/posterior_samples.pkl.zst
      md5: eec7d67de6b6058b6ae050d1bf9f2e59
      size: 1853369765
    - path: postprocess.py
      md5: 2d194b66a6964f4ac39022fe6a4fbb8f
      size: 5679
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        model_training.pancreas_model1:
          path: models/pancreas_model1
          model_path: models/pancreas_model1/model
          input_data_path: data/processed/pancreas_processed.h5ad
          trained_data_path: models/pancreas_model1/trained.h5ad
          pyrovelocity_data_path: models/pancreas_model1/pyrovelocity.pkl.zst
          posterior_samples_path: models/pancreas_model1/posterior_samples.pkl.zst
          metrics_path: models/pancreas_model1/metrics.json
          run_info_path: models/pancreas_model1/run_info.json
          vector_field_parameters:
            basis: umap
          gpu_id: 0
          training_parameters:
            _target_: pyrovelocity.api.train_model
            _partial_: true
            guide_type: auto_t0_constraint
            model_type: auto
            svi_train: false
            batch_size: -1
            train_size: 1.0
            use_gpu: 0
            likelihood: Poisson
            num_samples: 30
            log_every: 100
            cell_state: clusters
            patient_improve: 0.0001
            patient_init: 45
            seed: 99
            lr: 0.01
            max_epochs: 2000
            include_prior: true
            library_size: true
            offset: false
            input_type: raw
            cell_specific_kinetics:
            kinetics_num: 2
            loss_plot_path: models/pancreas_model1/loss_plot.png
    outs:
    - path: models/pancreas_model1/metrics.json
      md5: 80a687e3fd3bf35db19202f193f73cd8
      size: 98
    - path: models/pancreas_model1/pyrovelocity.pkl.zst
      md5: b2aab7a3577b99cddc5bb1ec03a02eaf
      size: 166153664
    - path: models/pancreas_model1/trained.h5ad
      md5: 6fcbc8bbe3cf43cbe7383cc8661b95c7
      size: 492127600
  summarize@pancreas_model1:
    cmd: /usr/bin/time -v python summarize.py train_models=[pancreas_model1]
    deps:
    - path: models/pancreas_model1/pyrovelocity.pkl.zst
      md5: b2aab7a3577b99cddc5bb1ec03a02eaf
      size: 166153664
    - path: models/pancreas_model1/trained.h5ad
      md5: 6fcbc8bbe3cf43cbe7383cc8661b95c7
      size: 492127600
    - path: summarize.py
      md5: 424b1ddc7fe21fc2c66aac74cf8c8fbb
      size: 46288
    params:
      config.yaml:
        base:
          log_level: INFO
          count_threshold: 0
          seed: 99
        reports.model_summary.pancreas_model1:
          path: reports/pancreas_model1
          trained_data_path: models/pancreas_model1/trained.h5ad
          pyrovelocity_data_path: models/pancreas_model1/pyrovelocity.pkl.zst
          dataframe_path: data/processed/pancreas_model1_dataframe.pkl.zst
          shared_time_plot: reports/pancreas_model1/shared_time.pdf
          volcano_plot: reports/pancreas_model1/volcano.pdf
          rainbow_plot: reports/pancreas_model1/rainbow.pdf
          uncertainty_param_plot: reports/pancreas_model1/param_uncertainties.pdf
          vector_field_plot: reports/pancreas_model1/vector_field.pdf
          posterior_phase_portraits: reports/pancreas_model1/posterior_phase_portraits
          t0_selection: reports/pancreas_model1/t0_selection.tif
          biomarker_selection_plot: reports/pancreas_model1/markers_selection_scatterplot.tif
          biomarker_phaseportrait_plot: reports/pancreas_model1/markers_phaseportrait.pdf
          fig2_part1_plot: reports/pancreas_model1/fig2_part1_plot.pdf
          fig2_part2_plot: reports/pancreas_model1/fig2_part2_plot.pdf
          violin_clusters_lin: reports/pancreas_model1/clusters_violin_lin.pdf
          violin_clusters_log: reports/pancreas_model1/clusters_violin_log.pdf
    outs:
    - path: data/processed/pancreas_model1_dataframe.pkl.zst
      md5: bbff19677beed1c7cf3766506f391723
      size: 12359084
    - path: reports/pancreas_model1/clusters_violin_lin.pdf
      md5: e0e4d14ff05b42e6c3684e4a8ca6227c
      size: 126790
    - path: reports/pancreas_model1/clusters_violin_lin.pdf.png
      md5: d07eb23ccaa8a55e9569504646568efa
      size: 2134075
    - path: reports/pancreas_model1/clusters_violin_log.pdf
      md5: 5e13a7e204d3a2eb2ecdb92592c8bb72
      size: 127285
    - path: reports/pancreas_model1/clusters_violin_log.pdf.png
      md5: 5607aefcb519d3992afcd0e3f3944fea
      size: 2256937
    - path: reports/pancreas_model1/fig2_part1_plot.pdf
      md5: f855655e0f06ea85e619791e5237eaa0
      size: 432538
    - path: reports/pancreas_model1/fig2_part1_plot.pdf.png
      md5: 3b1ec3f4a35e6867ccd1bcf24b28e4e5
      size: 634287
    - path: reports/pancreas_model1/fig2_part2_plot.pdf
      md5: a5b77fefd9759cc0a1375cfa0d872977
      size: 1254664
    - path: reports/pancreas_model1/fig2_part2_plot.pdf.png
      md5: 58d669dd57418b0798a5a95d8fa6599e
      size: 651812
    - path: reports/pancreas_model1/param_uncertainties.pdf
      md5: 960c232ea06bee8e5d43a8772c6d4c34
      size: 139072
    - path: reports/pancreas_model1/param_uncertainties.pdf.png
      md5: 49073d28fc6ec0003cbe40a8771f1834
      size: 884409
    - path: reports/pancreas_model1/rainbow.pdf
      md5: da3c17af492b9cd86ab19a11dfae3717
      size: 5144270
    - path: reports/pancreas_model1/rainbow.pdf.png
      md5: c68017154e85e0366985865913f1dc08
      size: 1402720
    - path: reports/pancreas_model1/shared_time.pdf
      md5: 1588f53ac5d4084370a50ce0d6c535a0
      size: 254000
    - path: reports/pancreas_model1/vector_field.pdf
      md5: a74248e8c578ce9c790986dc67b82aeb
      size: 397606
    - path: reports/pancreas_model1/vector_field.pdf.png
      md5: be1a000c0e2d8fd18255d6daab94dd72
      size: 700814
    - path: reports/pancreas_model1/volcano.pdf
      md5: 756d97e3f9de180a4713c3a65efe87b8
      size: 34522
    - path: reports/pancreas_model1/volcano.pdf.png
      md5: c78af31bce4e68ac0e726eeb5af36038
      size: 360024
